(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{Eh8b:function(t,e,i){"use strict";i.r(e),i.d(e,"AppAppearanceModule",(function(){return pi}));var n=i("ofXK"),a=i("3Pt+"),o=i("tyNb"),s=i("WAq7"),r=i("+rOU"),c=i("lJxs"),l=i("fXoL");const d=new l.s("APPEARANCE_EDITOR_CONFIG"),u={navigationRoutes:[],menus:{availableRoutes:["login","register","contact","billing/pricing","account-settings","admin/appearance","admin/users","admin/settings/authentication","admin/settings/branding","admin/settings/cache","admin/settings/providers","admin/roles"],positions:["admin-navbar","custom-page-navbar","auth-page-footer"]},sections:[{name:"general",position:1},{name:"themes",position:2},{name:"menus",position:3},{name:"custom-code",position:4},{name:"seo-settings",position:5}]};var b=i("fKqa");class h{constructor(t,e){this.route=t,this.queryParams=e,this.type=b.a.Navigate}}class m{constructor(t,e){this.key=t,this.value=e,this.type=b.a.SetConfig}}class p{constructor(t,e=0){this.selector=t,this.index=e,this.type=b.a.Select}}class g{constructor(){this.type=b.a.Deselect}}class f{constructor(t,e){this.key=t,this.value=e,this.type=b.a.SetColors}}class v{constructor(t){this.content=t,this.type=b.a.SetCustomCss}}class C{constructor(t){this.content=t,this.type=b.a.SetCustomHtml}}var y=i("LFZc"),x=i("2Vo4"),_=i("jtHE"),k=i("xgIS"),V=i("pLZG"),w=i("nYR2"),P=i("w1tV"),U=i("PE4B"),M=i.n(U),I=i("kmQS"),O=i("LRXf"),S=i("i2dy");let $=(()=>{class t{constructor(t,e,i,n){this.settings=t,this.router=e,this.http=i,this.toast=n,this.activePanel$=new x.a(null),this.defaultSettings={},this.initiated$=new _.a(1),this.loading$=new x.a(!1),this.changes$=new x.a(null)}addChanges(t){this.changes$.next(Object.assign(Object.assign({},this.changes$.value),t))}openPanel(t){const e=this.config.sections.find(e=>Object(s.a)(e.name)===t);this.activePanel$.next(e),this.navigate(e)}init(t,e,i){return Object(k.a)(window,"message").pipe(Object(V.a)(t=>t.data===y.a&&new URL(t.origin).hostname===window.location.hostname)).subscribe(()=>{this.initiated$.next(!0),this.initiated$.complete(),this.activePanel$.value&&this.navigate(this.activePanel$.value)}),e.forEach(t=>{"env"===t.name?this.defaultSettings=Object.assign(Object.assign({},this.defaultSettings),t.value):this.defaultSettings[t.name]=t.value}),this.initConfig(i),this.initIframe(t),this.initiated$}saveChanges(t){t&&this.addChanges(t),this.loading$.next(!0);const e=(this.saveRequest?this.saveRequest:t=>this.http.post("admin/appearance",t))(this.changes$.value).pipe(Object(w.a)(()=>this.loading$.next(!1)),Object(P.a)());return e.subscribe(()=>{this.changes$.next(null),this.toast.open("Appearance saved")}),e}setSaveRequest(t){this.saveRequest=t}closeActivePanel(){this.router.navigate(["/admin/appearance"])}navigate(t){this.postMessage(new h((null==t?void 0:t.route)||this.config.defaultRoute,null==t?void 0:t.queryParams))}setConfig(t,e){this.postMessage(new m(t,e))}selectNode(t,e=0){t&&this.postMessage(new p(t,e))}deselectNode(){this.postMessage(new g)}postMessage(t){this.previewWindow.postMessage(t,"*")}currentValue(t){return t.startsWith("env.")||t.startsWith("custom-code.")?this.defaultSettings[t]:this.settings.get(t)}initConfig(t){const e=M.a.all(t);e.sections=e.sections.sort((t,e)=>t.position>e.position?1:-1),e.defaultRoute||(e.defaultRoute="/"),this.config=e}initIframe(t){const e=this.settings.getBaseUrl()+this.config.defaultRoute+"?be-preview-mode="+y.a;t.src=function(t){return t.replace(/([^:]\/)\/+/g,"$1")}(e),this.previewWindow=t.contentWindow}}return t.\u0275fac=function(e){return new(e||t)(l.Zb(I.a),l.Zb(o.d),l.Zb(O.a),l.Zb(S.b))},t.\u0275prov=l.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var J=i("OnlV"),F=i("XhcP"),D=i("NFeN"),E=i("Rd8u"),T=i("bTqV"),H=i("Wf9w");function z(t,e){1&t&&l.Qb(0,"mat-icon",9)}function L(t,e){if(1&t&&(l.Vb(0,"span"),l.Hc(1,z,1,0,"mat-icon",7),l.Vb(2,"span",8),l.Jc(3),l.Ub(),l.Ub()),2&t){const t=l.gc(),e=t.first,i=t.last,n=t.$implicit,a=l.gc();l.Cb(1),l.nc("ngIf",!e),l.Cb(1),l.Gb("last",i),l.Cb(1),l.Kc(a.viewName(n))}}function N(t,e){if(1&t&&(l.Tb(0),l.Hc(1,L,4,4,"span",6),l.Sb()),2&t){const t=e.$implicit;l.Cb(1),l.nc("ngIf",t)}}let A=(()=>{class t{constructor(){this.path=[],this.back=new l.o}viewName(t){return Object(H.a)(t).replace(/_/g," ")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Jb({type:t,selectors:[["appearance-panel-meta"]],inputs:{path:"path"},outputs:{back:"back"},decls:7,vars:1,consts:[[1,"back-button",3,"click"],["svgIcon","keyboard-arrow-left"],[1,"title"],["trans","",1,"static"],[1,"path"],[4,"ngFor","ngForOf"],[4,"ngIf"],["svgIcon","keyboard-arrow-right","class","separator",4,"ngIf"],["trans","",1,"name"],["svgIcon","keyboard-arrow-right",1,"separator"]],template:function(t,e){1&t&&(l.Vb(0,"div",0),l.cc("click",(function(){return e.back.emit()})),l.Qb(1,"mat-icon",1),l.Ub(),l.Vb(2,"div",2),l.Vb(3,"div",3),l.Jc(4,"Customizing"),l.Ub(),l.Vb(5,"div",4),l.Hc(6,N,2,1,"ng-container",5),l.Ub(),l.Ub()),2&t&&(l.Cb(6),l.nc("ngForOf",e.path))},directives:[D.a,E.a,n.s,n.t],styles:["[_nghost-%COMP%]{display:flex;align-items:center;height:70px;margin-bottom:10px;border-bottom:1px solid var(--be-divider-default);background-color:var(--be-background)}.title[_ngcontent-%COMP%]{padding:10px}.path[_ngcontent-%COMP%]{font-size:2rem;font-weight:300;max-width:240px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.name[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;text-transform:capitalize}.last[_ngcontent-%COMP%]{color:var(--be-accent-default)}.separator[_ngcontent-%COMP%]{vertical-align:middle;color:var(--be-secondary-text);width:18px;height:18px;line-height:18px}"],changeDetection:0}),t})();var Q=i("h586"),j=i("Lm4C"),R=i("QeDF"),W=i("oJgS"),G=i("W5HX"),q=i("8cGs"),B=i("STbY"),K=i("gA0O"),X=i("bv9b");function Z(t,e){1&t&&l.Qb(0,"image-or-icon",11),2&t&&l.nc("src",e.ngIf)}function Y(t,e){1&t&&(l.Vb(0,"div",12),l.Qb(1,"mat-icon",13),l.Vb(2,"span",14),l.Jc(3,"Upload"),l.Ub(),l.Ub())}function tt(t,e){if(1&t){const t=l.Wb();l.Vb(0,"div",15),l.cc("click",(function(){return l.yc(t),l.gc().remove()})),l.Jc(1,"Remove"),l.Ub()}}function et(t,e){if(1&t){const t=l.Wb();l.Vb(0,"div",15),l.cc("click",(function(){return l.yc(t),l.gc().useDefault()})),l.Jc(1,"Use Default"),l.Ub()}}function it(t,e){1&t&&l.Qb(0,"mat-progress-bar",16)}const nt=["*"];let at=(()=>{class t{constructor(t,e,i,n){this.editor=t,this.uploadQueue=e,this.validator=i,this.settings=n,this.image$=new x.a(null),this.loading$=new x.a(!1),this.validator.showToast=!0}openModal(){const t={uri:this.backendUri||G.a.Image,httpParams:{diskPrefix:this.diskPrefix},validator:this.validator};Object(j.a)({types:[R.a.image]}).then(e=>{this.loading$.next(!0),this.uploadQueue.start(e,t).pipe(Object(w.a)(()=>this.loading$.next(!1))).subscribe(t=>{this.updateValue(t.fileEntry.url)})})}remove(){this.updateValue(null)}useDefault(){this.updateValue(this.defaultValue)}updateValue(t){this.propagateChange(t),this.image$.next(t+"?v="+Object(W.a)(8))}writeValue(t){this.image$.next(t)}registerOnChange(t){this.propagateChange=t}registerOnTouched(){}}return t.\u0275fac=function(e){return new(e||t)(l.Pb($),l.Pb(Q.a),l.Pb(q.a),l.Pb(I.a))},t.\u0275cmp=l.Jb({type:t,selectors:[["appearance-image-input"]],hostAttrs:["tabindex","0"],inputs:{defaultValue:"defaultValue",backendUri:"backendUri",diskPrefix:"diskPrefix"},features:[l.Bb([Q.a,{provide:a.s,useExisting:t,multi:!0}])],ngContentSelectors:nt,decls:18,vars:12,consts:[[1,"field-container",3,"click"],["trans","",1,"label","fake-label"],[1,"img-container"],[3,"src",4,"ngIf","ngIfElse"],["noImage",""],[1,"actions-dropdown"],[1,"no-style",3,"matMenuTriggerFor","click"],["svgIcon","settings",1,"trigger-icon"],["actionsMenu",""],["mat-menu-item","","trans","",3,"click",4,"ngIf"],["mode","indeterminate","color","accent",4,"ngIf"],[3,"src"],[1,"no-image"],["svgIcon","photo-size-select-actual"],["trans","",1,"text"],["mat-menu-item","","trans","",3,"click"],["mode","indeterminate","color","accent"]],template:function(t,e){if(1&t&&(l.mc(),l.Vb(0,"div",0),l.cc("click",(function(){return e.openModal()})),l.Vb(1,"div",1),l.lc(2),l.Ub(),l.Vb(3,"div",2),l.Hc(4,Z,1,1,"image-or-icon",3),l.hc(5,"async"),l.Hc(6,Y,4,0,"ng-template",null,4,l.Ic),l.Vb(8,"div",5),l.Vb(9,"button",6),l.cc("click",(function(t){return t.stopPropagation()})),l.Qb(10,"mat-icon",7),l.Ub(),l.Vb(11,"mat-menu",null,8),l.Hc(13,tt,2,0,"div",9),l.hc(14,"async"),l.Hc(15,et,2,0,"div",9),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Hc(16,it,1,0,"mat-progress-bar",10),l.hc(17,"async")),2&t){const t=l.vc(7),i=l.vc(12);l.Cb(4),l.nc("ngIf",l.ic(5,6,e.image$))("ngIfElse",t),l.Cb(5),l.nc("matMenuTriggerFor",i),l.Cb(4),l.nc("ngIf",l.ic(14,8,e.image$)),l.Cb(2),l.nc("ngIf",e.defaultValue),l.Cb(1),l.nc("ngIf",l.ic(17,10,e.loading$))}},directives:[E.a,n.t,B.d,D.a,B.e,K.a,B.b,X.a],pipes:[n.b],styles:["[_nghost-%COMP%]{display:block;cursor:pointer;margin-bottom:15px;position:relative}.label[_ngcontent-%COMP%]{margin-bottom:5px}.img-container[_ngcontent-%COMP%]{position:relative;height:80px;padding:5px;border:1px solid var(--be-divider-default);border-radius:4px;background-color:var(--be-chip);overflow:hidden}.img-container[_ngcontent-%COMP%], image-or-icon[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%}image-or-icon[_ngcontent-%COMP%]{height:100%}img[_ngcontent-%COMP%]{max-width:100%;max-height:100%;-o-object-fit:cover;object-fit:cover}.no-image[_ngcontent-%COMP%]{text-align:center}.no-image[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{display:block;color:var(--be-hint-text);width:40px;height:40px}.no-image[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{color:var(--be-link);margin-top:3px;font-size:1.3rem}.actions-dropdown[_ngcontent-%COMP%]{position:absolute;bottom:5px;right:5px;color:var(--be-secondary-text)}.actions-dropdown[_ngcontent-%COMP%]   .trigger-icon[_ngcontent-%COMP%]{width:20px;height:20px}.mat-progress-bar[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;width:100%}"],changeDetection:0}),t})(),ot=(()=>{class t{constructor(t,e){this.el=t,this.editor=e}ngOnInit(){this.el.nativeElement.addEventListener("focus",()=>{this.editor.selectNode(this.selector)}),this.el.nativeElement.addEventListener("blur",()=>{this.editor.deselectNode()})}}return t.\u0275fac=function(e){return new(e||t)(l.Pb(l.l),l.Pb($))},t.\u0275dir=l.Kb({type:t,selectors:[["","highlightInPreview",""]],inputs:{selector:["highlightInPreview","selector"]}}),t})();const st=function(){return["General"]};let rt=(()=>{class t{constructor(t,e){this.fb=t,this.editor=e,this.form=this.fb.group({"branding.logo_light":[""],"branding.logo_dark":[""],"branding.favicon":[""],"env.app_name":[""],"branding.site_description":[""]})}ngOnInit(){const t={};Object.keys(this.form.controls).forEach(e=>{t[e]=this.editor.currentValue(e)}),this.form.patchValue(t),this.form.valueChanges.subscribe(t=>{this.editor.addChanges(t)})}defaultValue(t){return this.editor.defaultSettings[t]}}return t.\u0275fac=function(e){return new(e||t)(l.Pb(a.h),l.Pb($))},t.\u0275cmp=l.Jb({type:t,selectors:[["general-appearance-panel"]],hostAttrs:[1,"appearance-panel"],decls:16,vars:8,consts:[[3,"path","back"],[1,"appearance-panel-content","many-inputs",3,"formGroup"],["formControlName","branding.logo_light","diskPrefix","branding_media","highlightInPreview",".logo",3,"defaultValue"],["formControlName","branding.logo_dark","diskPrefix","branding_media","highlightInPreview",".logo",3,"defaultValue"],["backendUri","uploads/favicon","diskPrefix","branding_media","formControlName","branding.favicon",3,"defaultValue"],[1,"input-container"],["for","env.app_name","trans",""],["type","text","id","env.app_name","formControlName","env.app_name",3,"placeholder"],["for","branding.site_description","trans",""],["id","branding.site_description","rows","4","formControlName","branding.site_description",3,"placeholder"]],template:function(t,e){1&t&&(l.Vb(0,"appearance-panel-meta",0),l.cc("back",(function(){return e.editor.closeActivePanel()})),l.Ub(),l.Vb(1,"div",1),l.Vb(2,"appearance-image-input",2),l.Jc(3," Logo #1 (For top navbar) "),l.Ub(),l.Vb(4,"appearance-image-input",3),l.Jc(5," Logo #2 (Everywhere else) "),l.Ub(),l.Vb(6,"appearance-image-input",4),l.Jc(7," Favicon "),l.Ub(),l.Vb(8,"div",5),l.Vb(9,"label",6),l.Jc(10,"Site Name"),l.Ub(),l.Qb(11,"input",7),l.Ub(),l.Vb(12,"div",5),l.Vb(13,"label",8),l.Jc(14,"Site Description"),l.Ub(),l.Qb(15,"textarea",9),l.Ub(),l.Ub()),2&t&&(l.nc("path",l.qc(7,st)),l.Cb(1),l.nc("formGroup",e.form),l.Cb(1),l.nc("defaultValue",e.defaultValue("branding.logo_light")),l.Cb(2),l.nc("defaultValue",e.defaultValue("branding.logo_dark")),l.Cb(2),l.nc("defaultValue",e.defaultValue("branding.favicon")),l.Cb(5),l.nc("placeholder",e.defaultValue("env.app_name")),l.Cb(4),l.nc("placeholder",e.defaultValue("branding.site_description")))},directives:[A,a.v,a.m,at,a.u,a.k,ot,E.a,a.d],styles:[""],changeDetection:0}),t})();var ct=i("0IaG");let lt=(()=>{class t{constructor(t){this.http=t}all(){return this.http.get("css-theme")}create(t){return this.http.post("css-theme",t)}update(t,e){return this.http.put("css-theme/"+t,e)}delete(t){return this.http.delete("css-theme/"+t)}}return t.\u0275fac=function(e){return new(e||t)(l.Zb(O.a))},t.\u0275prov=l.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var dt=i("1jcm");function ut(t,e){1&t&&(l.Vb(0,"span",6),l.Jc(1,"Update Theme"),l.Ub())}function bt(t,e){1&t&&(l.Vb(0,"span",6),l.Jc(1,"Create Theme"),l.Ub())}function ht(t,e){if(1&t&&(l.Vb(0,"div",21),l.Jc(1),l.Ub()),2&t){const t=l.gc().ngIf;l.Cb(1),l.Kc(t.name)}}function mt(t,e){1&t&&(l.Vb(0,"span"),l.Jc(1,"Update"),l.Ub())}function pt(t,e){1&t&&(l.Vb(0,"span"),l.Jc(1,"Create"),l.Ub())}function gt(t,e){if(1&t){const t=l.Wb();l.Vb(0,"form",7),l.cc("ngSubmit",(function(){return l.yc(t),l.gc().confirm()})),l.Vb(1,"mat-dialog-content",8),l.Vb(2,"div",9),l.Vb(3,"label",10),l.Jc(4,"Name"),l.Ub(),l.Qb(5,"input",11),l.Hc(6,ht,2,1,"div",12),l.Ub(),l.Vb(7,"div",13),l.Vb(8,"mat-slide-toggle",14),l.Jc(9,"Dark Theme"),l.Ub(),l.Vb(10,"p",6),l.Jc(11,"Whether this theme has light text on dark background."),l.Ub(),l.Ub(),l.Vb(12,"div",13),l.Vb(13,"mat-slide-toggle",15),l.Jc(14,"Default Dark Theme"),l.Ub(),l.Vb(15,"p",6),l.Jc(16,"Whether this theme should be used as default dark theme."),l.Ub(),l.Ub(),l.Vb(17,"div",13),l.Vb(18,"mat-slide-toggle",16),l.Jc(19,"Default Light Theme"),l.Ub(),l.Vb(20,"p",6),l.Jc(21,"Whether this theme should be used as default light theme."),l.Ub(),l.Ub(),l.Ub(),l.Vb(22,"mat-dialog-actions"),l.Vb(23,"button",17),l.cc("click",(function(){return l.yc(t),l.gc().close()})),l.Jc(24,"Cancel"),l.Ub(),l.Vb(25,"button",18),l.hc(26,"async"),l.Hc(27,mt,2,0,"span",19),l.Hc(28,pt,2,0,"ng-template",null,20,l.Ic),l.Ub(),l.Ub(),l.Ub()}if(2&t){const t=e.ngIf,i=l.vc(29),n=l.gc();l.nc("formGroup",n.form),l.Cb(6),l.nc("ngIf",t.name),l.Cb(19),l.nc("disabled",l.ic(26,5,n.loading$)),l.Cb(2),l.nc("ngIf",n.data.theme)("ngIfElse",i)}}let ft=(()=>{class t{constructor(t,e,i,n,a){this.dialogRef=t,this.data=e,this.cssTheme=i,this.toast=n,this.fb=a,this.loading$=new x.a(!1),this.errors$=new x.a({}),this.form=this.fb.group({name:[""],is_dark:[!1],default_dark:[!1],default_light:[!1]}),e.theme&&this.form.patchValue(e.theme),this.form.get("default_dark").valueChanges.pipe(Object(V.a)(t=>!!t)).subscribe(()=>{this.form.get("default_light").setValue(!1)}),this.form.get("default_light").valueChanges.pipe(Object(V.a)(t=>!!t)).subscribe(()=>{this.form.get("default_dark").setValue(!1)})}confirm(){(this.data.theme?this.cssTheme.update(this.data.theme.id,this.form.value):this.cssTheme.create(this.form.value)).subscribe(t=>{this.toast.open(this.data.theme?"Theme updated":"Theme created"),this.close(t.theme)},t=>this.errors$.next(t.errors))}close(t){this.dialogRef.close(t)}}return t.\u0275fac=function(e){return new(e||t)(l.Pb(ct.h),l.Pb(ct.a),l.Pb(lt),l.Pb(S.b),l.Pb(a.h))},t.\u0275cmp=l.Jb({type:t,selectors:[["crupdate-css-theme-modal"]],decls:8,vars:5,consts:[[1,"modal-header"],["mat-dialog-title",""],["trans","",4,"ngIf"],["type","button","tabindex","-1",1,"close-button","no-style",3,"click"],["svgIcon","close"],["ngNativeValidate","",3,"formGroup","ngSubmit",4,"ngIf"],["trans",""],["ngNativeValidate","",3,"formGroup","ngSubmit"],[1,"many-inputs"],[1,"input-container"],["for","name","trans",""],["type","text","id","name","formControlName","name","required","","minlength","3"],["class","error",4,"ngIf"],[1,"setting-toggle-container"],["id","is_dark","formControlName","is_dark","trans",""],["id","default_dark","formControlName","default_dark","trans",""],["id","default_light","formControlName","default_light","trans",""],["type","button","mat-button","","trans","",3,"click"],["type","submit","mat-raised-button","","color","accent","trans","",3,"disabled"],[4,"ngIf","ngIfElse"],["creating",""],[1,"error"]],template:function(t,e){1&t&&(l.Vb(0,"div",0),l.Vb(1,"h2",1),l.Hc(2,ut,2,0,"span",2),l.Hc(3,bt,2,0,"span",2),l.Ub(),l.Vb(4,"button",3),l.cc("click",(function(){return e.close()})),l.Qb(5,"mat-icon",4),l.Ub(),l.Ub(),l.Hc(6,gt,30,7,"form",5),l.hc(7,"async")),2&t&&(l.Cb(2),l.nc("ngIf",e.data.theme),l.Cb(1),l.nc("ngIf",!e.data.theme),l.Cb(3),l.nc("ngIf",l.ic(7,3,e.errors$)))},directives:[ct.i,n.t,D.a,E.a,a.v,a.m,ct.f,a.d,a.u,a.k,a.F,a.q,dt.a,ct.c,T.b],pipes:[n.b],styles:["[_nghost-%COMP%]{display:block;width:400px;max-width:100%}"],changeDetection:0}),t})();var vt=i("/RwR"),Ct=i("QGXG"),yt=i("FBzJ"),xt=i("v4Vz");function _t(t,e){if(1&t&&(l.Vb(0,"li"),l.Vb(1,"color-picker-input",2),l.Jc(2),l.Ub(),l.Ub()),2&t){const t=e.$implicit,i=l.gc();l.Cb(1),l.nc("formControlName",t.key),l.Cb(1),l.Kc(i.viewName(t.key))}}let kt=(()=>{class t{constructor(t,e){this.editor=t,this.themes=e,this.form=new a.l({}),this.colorCache={}}ngOnInit(){this.editor.setSaveRequest(this.saveColors.bind(this)),Object.entries(this.theme.colors).forEach(([t,e])=>{this.form.addControl(t,new a.i(e))}),this.editor.initiated$.subscribe(()=>{this.setColors(this.theme.colors),this.form.valueChanges.subscribe(t=>{this.setColors(t),this.editor.addChanges({colors:t})})})}ngOnDestroy(){this.editor.setSaveRequest(null)}saveColors(t){return this.themes.update(this.theme.id,t)}setColors(t){Object.entries(t).forEach(([t,e])=>{this.colorCache[t]!==e&&(this.editor.postMessage(new f(t,e)),this.colorCache[t]=e)})}viewName(t){return t.replace("be-","").replace(/-/g," ")}}return t.\u0275fac=function(e){return new(e||t)(l.Pb($),l.Pb(lt))},t.\u0275cmp=l.Jb({type:t,selectors:[["css-theme-colors-panel"]],inputs:{theme:"theme"},decls:3,vars:4,consts:[[3,"formGroup"],[4,"ngFor","ngForOf"],["trans","",3,"formControlName"]],template:function(t,e){1&t&&(l.Vb(0,"ul",0),l.Hc(1,_t,3,2,"li",1),l.hc(2,"keyvalue"),l.Ub()),2&t&&(l.nc("formGroup",e.form),l.Cb(1),l.nc("ngForOf",l.ic(2,2,e.theme.colors)))},directives:[a.v,a.m,n.s,xt.a,E.a,a.u,a.k],pipes:[n.l],styles:[""],changeDetection:0}),t})();function Vt(t,e){1&t&&l.Qb(0,"css-theme-colors-panel",5),2&t&&l.nc("theme",e.ngIf)}function wt(t,e){if(1&t){const t=l.Wb();l.Vb(0,"li",8),l.cc("click",(function(){l.yc(t);const i=e.$implicit;return l.gc(2).setSelectedTheme(i)})),l.Vb(1,"div",9),l.Jc(2),l.Ub(),l.Vb(3,"div",10),l.cc("click",(function(e){return l.yc(t),e.stopPropagation()})),l.Vb(4,"button",11),l.cc("click",(function(){l.yc(t);const i=e.$implicit;return l.gc(2).setSelectedTheme(i)})),l.Qb(5,"mat-icon",12),l.Ub(),l.Vb(6,"button",11),l.cc("click",(function(){l.yc(t);const i=e.$implicit;return l.gc(2).openCrupdateThemeModal(i)})),l.Qb(7,"mat-icon",13),l.Ub(),l.Vb(8,"button",11),l.cc("click",(function(){l.yc(t);const i=e.$implicit;return l.gc(2).maybeDeleteThemeModal(i)})),l.Qb(9,"mat-icon",14),l.Ub(),l.Ub(),l.Ub()}if(2&t){const t=e.$implicit;l.Cb(2),l.Kc(t.name)}}function Pt(t,e){if(1&t){const t=l.Wb();l.Vb(0,"button",6),l.cc("click",(function(){return l.yc(t),l.gc().openCrupdateThemeModal()})),l.Jc(1,"New Theme"),l.Ub(),l.Vb(2,"ul"),l.Hc(3,wt,10,1,"li",7),l.hc(4,"async"),l.Ub()}if(2&t){const t=l.gc();l.Cb(3),l.nc("ngForOf",l.ic(4,1,t.loadedThemes$))}}let Ut=(()=>{class t{constructor(t,e,i,n,a,o){this.appearance=t,this.modal=e,this.themes=i,this.toast=n,this.router=a,this.route=o,this.loading$=new x.a(!1),this.loadedThemes$=new x.a([]),this.selectedTheme$=new x.a(null),this.path$=this.selectedTheme$.pipe(Object(c.a)(t=>{const e=["Themes"];return t&&e.push(t.name),e}))}ngOnInit(){this.reloadThemes()}ngOnDestroy(){this.querySub&&this.querySub.unsubscribe()}openCrupdateThemeModal(t){this.modal.open(ft,{theme:t}).afterClosed().subscribe(t=>{t&&this.reloadThemes()})}setSelectedTheme(t){this.router.navigate([],{queryParams:{theme:t&&t.id},queryParamsHandling:"merge"})}openPreviousPanel(){this.selectedTheme$.value?this.setSelectedTheme():this.appearance.closeActivePanel()}maybeDeleteThemeModal(t){this.modal.show(vt.a,{title:"Delete Theme",body:"Are you sure you want to delete this theme?",ok:"Delete"}).afterClosed().subscribe(e=>{e&&this.deleteTheme(t)})}reloadThemes(){this.loading$.next(!0),this.themes.all().pipe(Object(w.a)(()=>this.loading$.next(!1))).subscribe(t=>{this.loadedThemes$.next(t.pagination.data),this.bindToQueryParams()})}deleteTheme(t){this.themes.delete([t.id]).subscribe(()=>{this.toast.open("Theme deleted"),this.reloadThemes()})}bindToQueryParams(){this.querySub||(this.querySub=this.route.queryParams.subscribe(t=>{const e=this.loadedThemes$.value.find(e=>e.id===+t.theme);this.selectedTheme$.next(e)}))}}return t.\u0275fac=function(e){return new(e||t)(l.Pb($),l.Pb(Ct.a),l.Pb(lt),l.Pb(S.b),l.Pb(o.d),l.Pb(o.a))},t.\u0275cmp=l.Jb({type:t,selectors:[["themes-appearance-panel"]],decls:9,vars:10,consts:[[3,"path","back"],[1,"appearance-panel-content"],[3,"theme",4,"ngIf","ngIfElse"],["themesList",""],[1,"overlay","overlay-partial",3,"isVisible"],[3,"theme"],["mat-raised-button","","color","accent","type","button","trans","",1,"new-theme-button",3,"click"],["class","nav-item",3,"click",4,"ngFor","ngForOf"],[1,"nav-item",3,"click"],[1,"name"],[1,"actions",3,"click"],["mat-icon-button","","type","button",3,"click"],["svgIcon","drop-custom"],["svgIcon","edit"],["svgIcon","delete"]],template:function(t,e){if(1&t&&(l.Vb(0,"appearance-panel-meta",0),l.cc("back",(function(){return e.openPreviousPanel()})),l.hc(1,"async"),l.Ub(),l.Vb(2,"div",1),l.Hc(3,Vt,1,1,"css-theme-colors-panel",2),l.hc(4,"async"),l.Hc(5,Pt,5,3,"ng-template",null,3,l.Ic),l.Ub(),l.Qb(7,"loading-indicator",4),l.hc(8,"async")),2&t){const t=l.vc(6);l.nc("path",l.ic(1,4,e.path$)),l.Cb(3),l.nc("ngIf",l.ic(4,6,e.selectedTheme$))("ngIfElse",t),l.Cb(4),l.nc("isVisible",l.ic(8,8,e.loading$))}},directives:[A,n.t,yt.a,kt,T.b,E.a,n.s,D.a],pipes:[n.b],styles:[".new-theme-button[_ngcontent-%COMP%]{margin-bottom:15px}"],changeDetection:0}),t})();var Mt=i("WvtK");class It{constructor(t={}){this.type="link",this.order=1,this.condition=null,this.target=null,this.position=0,this.activeExact=!1;for(const e in t)this[e]=t[e];this.id=Math.floor(999*Math.random())}}var Ot=i("5+WD"),St=i("f9yG");let $t=(()=>{class t{constructor(t,e){this.settings=t,this.appearance=e,this.allMenus$=new x.a([]),this.activeMenu$=new x.a(null)}create(){const t=[...this.allMenus$.value];this.activeMenu$.next(new St.a({name:"New Menu"})),t.push(this.activeMenu$.value),this.allMenus$.next(t),this.commitChanges()}reorderActiveMenuItems(t,e){const i=Object.assign({},this.activeMenu$.value);Object(Ot.e)(i.items,t,e),this.activeMenu$.next(i),this.commitChanges()}deleteActive(){const t=[...this.allMenus$.value],e=t.indexOf(this.activeMenu$.value);t.splice(e,1),this.activeMenu$.next(null),this.allMenus$.next(t),this.commitChanges()}addItem(t){const e=Object.assign({},this.activeMenu$.value);t=this.transformLocalLinksToRoutes(t),e.items.push(t),this.activeMenu$.next(e),this.commitChanges()}removeItem(t){const e=Object.assign({},this.activeMenu$.value),i=this.activeMenu$.value.items.indexOf(t);e.items.splice(i,1),this.activeMenu$.next(e),this.commitChanges()}transformLocalLinksToRoutes(t){const e=this.settings.getBaseUrl();return"link"!==t.type||-1===t.action.indexOf(e)||(t.type="route",t.action=t.action.replace(this.settings.getBaseUrl(),"")),t}commitChanges(){const t=JSON.stringify(this.allMenus$.value);this.appearance.setConfig("menus",t),this.appearance.addChanges({menus:t})}setFromJson(t){if(!t)return;const e=JSON.parse(t);if(!e)return;const i=e.map(t=>{const e=new St.a(t);return e.items=e.items.map(t=>new It(t)),e});this.allMenus$.next(i)}}return t.\u0275fac=function(e){return new(e||t)(l.Zb(I.a),l.Zb($))},t.\u0275prov=l.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Jt=i("ZfYz"),Ft=i("sPnx");let Dt=(()=>{class t{constructor(t){this.http=t}get(){return this.http.getWithCache("admin/appearance/menu-categories")}}return t.\u0275fac=function(e){return new(e||t)(l.Zb(Ft.a))},t.\u0275prov=l.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Et=i("7EHt");function Tt(t,e){if(1&t){const t=l.Wb();l.Vb(0,"div",17),l.cc("click",(function(){l.yc(t);const i=e.$implicit;return l.gc().addRouteMenuItem(i)})),l.Jc(1),l.Ub()}if(2&t){const t=e.$implicit;l.Cb(1),l.Lc("",t," ")}}function Ht(t,e){if(1&t){const t=l.Wb();l.Vb(0,"div",17),l.cc("click",(function(){l.yc(t);const i=e.$implicit;return l.gc(2).addCustomMenuItem(i)})),l.Jc(1),l.Ub()}if(2&t){const t=e.$implicit;l.Cb(1),l.Kc(t.label)}}function zt(t,e){if(1&t&&(l.Vb(0,"mat-expansion-panel",5),l.Vb(1,"mat-expansion-panel-header"),l.Vb(2,"mat-panel-title",6),l.Jc(3),l.Ub(),l.Ub(),l.Vb(4,"div",14),l.Hc(5,Ht,2,1,"div",15),l.Ub(),l.Ub()),2&t){const t=e.$implicit;l.Cb(3),l.Kc(t.name),l.Cb(2),l.nc("ngForOf",t.items)}}let Lt=(()=>{class t{constructor(t,e,i,n,a){this.editor=t,this.appearance=e,this.overlayPanelRef=i,this.fb=n,this.itemCategories=a,this.linkForm=this.fb.group({action:[""],label:[""]})}ngOnInit(){this.itemCategories.get().subscribe(t=>{this.menuItemCategories=t.categories})}addLinkMenuItem(){this.editor.addItem(new It({type:"link",label:this.linkForm.value.label,action:this.linkForm.value.action})),this.linkForm.reset(),this.close()}addRouteMenuItem(t){this.editor.addItem(new It({type:"route",label:t,action:t})),this.close()}addCustomMenuItem(t){this.editor.addItem(new It(t)),this.close()}close(){this.overlayPanelRef.close()}}return t.\u0275fac=function(e){return new(e||t)(l.Pb($t),l.Pb($),l.Pb(Jt.a),l.Pb(a.h),l.Pb(Dt))},t.\u0275cmp=l.Jb({type:t,selectors:[["add-menu-item-panel"]],decls:30,vars:3,consts:[[1,"header"],["trans","",1,"title"],["svgIcon","close",3,"click"],[1,"new-item-tabs"],["ngNativeValidate","",3,"formGroup","ngSubmit"],[1,"mat-elevation-z"],["trans",""],[1,"many-inputs","expansion-panel-content"],[1,"input-container"],["for","external-link-url","trans",""],["type","url","id","external-link-url","formControlName","action","required",""],["for","external-link-text","trans",""],["type","text","id","external-link-text","formControlName","label","required",""],["mat-button","","color","accent","type","submit","trans",""],[1,"items-list","expansion-panel-content"],["class","item",3,"click",4,"ngFor","ngForOf"],["class","mat-elevation-z",4,"ngFor","ngForOf"],[1,"item",3,"click"]],template:function(t,e){1&t&&(l.Vb(0,"div",0),l.Vb(1,"span",1),l.Jc(2,"New Menu Item"),l.Ub(),l.Vb(3,"mat-icon",2),l.cc("click",(function(){return e.close()})),l.Ub(),l.Ub(),l.Vb(4,"div",3),l.Vb(5,"mat-accordion"),l.Vb(6,"form",4),l.cc("ngSubmit",(function(){return e.addLinkMenuItem()})),l.Vb(7,"mat-expansion-panel",5),l.Vb(8,"mat-expansion-panel-header"),l.Vb(9,"mat-panel-title",6),l.Jc(10,"Link"),l.Ub(),l.Ub(),l.Vb(11,"div",7),l.Vb(12,"div",8),l.Vb(13,"label",9),l.Jc(14,"URL"),l.Ub(),l.Qb(15,"input",10),l.Ub(),l.Vb(16,"div",8),l.Vb(17,"label",11),l.Jc(18,"Link Text"),l.Ub(),l.Qb(19,"input",12),l.Ub(),l.Ub(),l.Vb(20,"mat-action-row"),l.Vb(21,"button",13),l.Jc(22,"Add"),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(23,"mat-expansion-panel",5),l.Vb(24,"mat-expansion-panel-header"),l.Vb(25,"mat-panel-title",6),l.Jc(26,"Route"),l.Ub(),l.Ub(),l.Vb(27,"div",14),l.Hc(28,Tt,2,1,"div",15),l.Ub(),l.Ub(),l.Hc(29,zt,6,2,"mat-expansion-panel",16),l.Ub(),l.Ub()),2&t&&(l.Cb(6),l.nc("formGroup",e.linkForm),l.Cb(22),l.nc("ngForOf",e.appearance.config.menus.availableRoutes),l.Cb(1),l.nc("ngForOf",e.menuItemCategories))},directives:[E.a,D.a,Et.a,a.v,a.m,Et.c,Et.e,Et.f,a.d,a.u,a.k,a.F,Et.d,T.b,n.s],styles:["[_nghost-%COMP%]{background-color:var(--be-background-alternative);box-shadow:0 3px 3px -2px rgba(0,0,0,.2),0 3px 4px 0 rgba(0,0,0,.14),0 1px 8px 0 rgba(0,0,0,.12);overflow:hidden;width:300px;border-radius:4px}.header[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:var(--be-background);padding:15px;font-size:1.7rem;font-weight:300;border-bottom:1px solid var(--be-divider-default);margin-bottom:10px}.header[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{cursor:pointer;color:var(--be-secondary-text);margin-left:auto}.new-item-tabs[_ngcontent-%COMP%]{padding:10px}.items-list[_ngcontent-%COMP%]{overflow:auto;max-height:300px}.items-list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{color:var(--be-link);padding-bottom:8px;margin-bottom:8px;border-bottom:1px solid var(--be-divider-default);cursor:pointer}.items-list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:hover{text-decoration:underline}.mat-expansion-panel[_ngcontent-%COMP%]{border:1px solid var(--be-divider-default);margin-bottom:10px}.mat-expansion-panel-header[_ngcontent-%COMP%]{min-height:57px}.mat-expansion-panel-header.mat-expanded[_ngcontent-%COMP%]{border-bottom:1px solid var(--be-divider-default)}.expansion-panel-content[_ngcontent-%COMP%]{padding-top:25px}"],changeDetection:0}),t})();var Nt=i("dz5c");function At(t,e){if(1&t){const t=l.Wb();l.Vb(0,"button",2),l.cc("click",(function(){l.yc(t);const i=e.$implicit;return l.gc().selectIcon(i)})),l.Qb(1,"mat-icon",3),l.Ub()}if(2&t){const t=e.$implicit;l.Cb(1),l.nc("svgIcon",t)}}let Qt=(()=>{class t{constructor(t,e){this.http=t,this.overlayPanelRef=e,this.icons$=new x.a([]),this.loading$=new x.a(!1),this.iconSelected=new l.o}ngOnInit(){this.loading$.next(!0),this.http.get("admin/icons").pipe(Object(w.a)(()=>this.loading$.next(!1))).subscribe(t=>{this.icons$.next(t.icons)})}selectIcon(t){this.iconSelected.observers.length?this.iconSelected.next(t):(this.overlayPanelRef.emitValue(t),this.overlayPanelRef.close())}}return t.\u0275fac=function(e){return new(e||t)(l.Pb(Ft.a),l.Pb(Jt.a))},t.\u0275cmp=l.Jb({type:t,selectors:[["icon-selector"]],outputs:{iconSelected:"iconSelected"},decls:4,vars:6,consts:[["mat-icon-button","",3,"click",4,"ngFor","ngForOf"],[1,"overlay","overlay-partial",3,"isVisible"],["mat-icon-button","",3,"click"],[3,"svgIcon"]],template:function(t,e){1&t&&(l.Hc(0,At,2,1,"button",0),l.hc(1,"async"),l.Qb(2,"loading-indicator",1),l.hc(3,"async")),2&t&&(l.nc("ngForOf",l.ic(1,2,e.icons$)),l.Cb(2),l.nc("isVisible",l.ic(3,4,e.loading$)))},directives:[n.s,yt.a,T.b,D.a],pipes:[n.b],styles:["[_nghost-%COMP%]{display:block;background-color:var(--be-background);padding:15px;border-radius:4px;width:490px;max-width:90vw;min-height:390px;overflow:auto;position:relative;text-align:center;box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12)}.mat-icon-button[_ngcontent-%COMP%]{transition:transform .1s ease-in-out}.mat-icon-button[_ngcontent-%COMP%]:hover{transform:scale(1.6)}"],changeDetection:0}),t})();function jt(t,e){if(1&t){const t=l.Wb();l.Vb(0,"mat-expansion-panel",5),l.cc("opened",(function(){l.yc(t);const i=e.$implicit;return l.gc(2).toggleMenuItem(i)}))("closed",(function(){l.yc(t);const i=e.$implicit;return l.gc(2).toggleMenuItem(i)})),l.Vb(1,"mat-expansion-panel-header"),l.Vb(2,"mat-panel-title"),l.Qb(3,"mat-icon",6),l.Vb(4,"span",7),l.Jc(5),l.Ub(),l.Ub(),l.Ub(),l.Vb(6,"div",8),l.Vb(7,"div",9),l.Vb(8,"label",10),l.Jc(9,"Label"),l.Ub(),l.Vb(10,"input",11),l.cc("ngModelChange",(function(i){return l.yc(t),e.$implicit.label=i}))("ngModelChange",(function(){return l.yc(t),l.gc(2).menus.commitChanges()})),l.Ub(),l.Ub(),l.Vb(11,"div",9),l.Vb(12,"label",10),l.Jc(13,"Type"),l.Ub(),l.Vb(14,"select",12),l.cc("ngModelChange",(function(i){return l.yc(t),e.$implicit.type=i}))("ngModelChange",(function(){return l.yc(t),l.gc(2).menus.commitChanges()})),l.Vb(15,"option",13),l.Jc(16,"Link"),l.Ub(),l.Vb(17,"option",14),l.Jc(18,"Route"),l.Ub(),l.Vb(19,"option",15),l.Jc(20,"Page"),l.Ub(),l.Ub(),l.Ub(),l.Vb(21,"div",9),l.Vb(22,"label",10),l.Jc(23,"Action"),l.Ub(),l.Vb(24,"input",11),l.cc("ngModelChange",(function(i){return l.yc(t),e.$implicit.action=i}))("ngModelChange",(function(){return l.yc(t),l.gc(2).menus.commitChanges()})),l.Ub(),l.Ub(),l.Vb(25,"div",9),l.Vb(26,"label",10),l.Jc(27,"Condition"),l.Ub(),l.Vb(28,"select",12),l.cc("ngModelChange",(function(i){return l.yc(t),e.$implicit.condition=i}))("ngModelChange",(function(){return l.yc(t),l.gc(2).menus.commitChanges()})),l.Vb(29,"option",16),l.Jc(30,"None"),l.Ub(),l.Vb(31,"option",17),l.Jc(32,"Show to Logged in Users Only"),l.Ub(),l.Vb(33,"option",18),l.Jc(34,"Show to Guest Users Only"),l.Ub(),l.Vb(35,"option",19),l.Jc(36,"Show to Admin Only"),l.Ub(),l.Ub(),l.Ub(),l.Vb(37,"div",9),l.Vb(38,"label",10),l.Jc(39,"Open link in"),l.Ub(),l.Vb(40,"select",12),l.cc("ngModelChange",(function(i){return l.yc(t),e.$implicit.target=i}))("ngModelChange",(function(){return l.yc(t),l.gc(2).menus.commitChanges()})),l.Vb(41,"option",20),l.Jc(42,"Same Window"),l.Ub(),l.Vb(43,"option",21),l.Jc(44,"New Window"),l.Ub(),l.Ub(),l.Ub(),l.Vb(45,"div",22,23),l.cc("click",(function(){l.yc(t);const i=e.$implicit,n=l.vc(46);return l.gc(2).openIconSelector(n,i)})),l.Vb(47,"label",10),l.Jc(48,"Icon"),l.Ub(),l.Vb(49,"input",24),l.cc("ngModelChange",(function(i){return l.yc(t),e.$implicit.icon=i})),l.Ub(),l.Qb(50,"mat-icon",25),l.Ub(),l.Ub(),l.Vb(51,"mat-action-row"),l.Vb(52,"button",26),l.cc("click",(function(){return l.yc(t),l.gc(2).confirmMenuItemDeletion()})),l.Jc(53,"Remove"),l.Ub(),l.Ub(),l.Ub()}if(2&t){const t=e.$implicit;l.Db("data-id",t.id),l.Cb(5),l.Kc(t.label),l.Cb(3),l.oc("for",t.id+"-label"),l.Cb(2),l.oc("id",t.id+"-label"),l.nc("ngModel",t.label),l.Cb(2),l.oc("for",t.id+"-type"),l.Cb(2),l.oc("id",t.id+"-type"),l.nc("ngModel",t.type),l.Cb(8),l.oc("for",t.id+"-action"),l.Cb(2),l.oc("id",t.id+"-action"),l.nc("ngModel",t.action),l.Cb(2),l.oc("for",t.id+"-condition"),l.Cb(2),l.oc("id",t.id+"-condition"),l.nc("ngModel",t.condition),l.Cb(1),l.nc("ngValue",null),l.Cb(9),l.oc("for",t.id+"-target"),l.Cb(2),l.oc("id",t.id+"-target"),l.nc("ngModel",t.target),l.Cb(7),l.oc("for",t.id+"-icon"),l.Cb(2),l.oc("id",t.id+"-icon"),l.nc("ngModel",t.icon),l.Cb(1),l.nc("svgIcon",t.icon)}}function Rt(t,e){if(1&t){const t=l.Wb();l.Vb(0,"mat-accordion",3),l.cc("cdkDropListDropped",(function(e){return l.yc(t),l.gc().reorderMenuItems(e)})),l.Hc(1,jt,54,22,"mat-expansion-panel",4),l.Ub()}if(2&t){const t=e.ngIf;l.Cb(1),l.nc("ngForOf",t.items)}}function Wt(t,e){1&t&&(l.Vb(0,"div",27),l.Jc(1,"This menu has no items yet."),l.Ub())}let Gt=(()=>{class t{constructor(t,e,i,n){this.menus=t,this.modal=e,this.overlayPanel=i,this.cd=n,this.subscriptions=[]}ngOnDestroy(){this.subscriptions.forEach(t=>{t&&t.unsubscribe()})}reorderMenuItems(t){this.menus.reorderActiveMenuItems(t.previousIndex,t.currentIndex)}toggleMenuItem(t){this.selectedMenuItem=this.selectedMenuItem===t?null:t}confirmMenuItemDeletion(){this.modal.show(vt.a,{title:"Delete Menu Item",body:"Are you sure you want to delete this menu item?",ok:"Delete"}).afterClosed().subscribe(t=>{t&&(this.menus.removeItem(this.selectedMenuItem),this.selectedMenuItem=null)})}openIconSelector(t,e){this.overlayPanel.open(Qt,{position:Mt.a,origin:new l.l(t)}).valueChanged().subscribe(t=>{e.icon=t,this.menus.commitChanges(),this.cd.detectChanges()})}}return t.\u0275fac=function(e){return new(e||t)(l.Pb($t),l.Pb(Ct.a),l.Pb(Nt.a),l.Pb(l.h))},t.\u0275cmp=l.Jb({type:t,selectors:[["menu-items"]],decls:6,vars:4,consts:[["trans","",1,"title"],["cdkDropList","",3,"cdkDropListDropped",4,"ngIf","ngIfElse"],["noActiveMenu",""],["cdkDropList","",3,"cdkDropListDropped"],["class","mat-elevation-z menu-item-container","cdkDrag","",3,"opened","closed",4,"ngFor","ngForOf"],["cdkDrag","",1,"mat-elevation-z","menu-item-container",3,"opened","closed"],["cdkDragHandle","","svgIcon","drag-handle",1,"drag-handle"],[1,"name"],[1,"many-inputs","menu-item-list"],[1,"input-container"],["trans","",3,"for"],["type","text",3,"ngModel","id","ngModelChange"],[3,"ngModel","id","ngModelChange"],["value","link","trans",""],["value","route","trans",""],["value","page","trans",""],["trans","",3,"ngValue"],["value","auth","trans",""],["value","guest","trans",""],["value","admin","trans",""],["value","_self","trans",""],["value","_blank","trans",""],[1,"input-container","icon-input-container",3,"click"],["iconInput",""],["type","text","readonly","","placeholder","(Optional)","trans-placeholder","",3,"ngModel","id","ngModelChange"],[3,"svgIcon"],["mat-button","","color","warn","trans","",1,"delete-button",3,"click"],["trans","",1,"no-menu-items"]],template:function(t,e){if(1&t&&(l.Vb(0,"div",0),l.Jc(1,"Menu Items"),l.Ub(),l.Hc(2,Rt,2,1,"mat-accordion",1),l.hc(3,"async"),l.Hc(4,Wt,2,0,"ng-template",null,2,l.Ic)),2&t){const t=l.vc(5);l.Cb(2),l.nc("ngIf",l.ic(3,2,e.menus.activeMenu$))("ngIfElse",t)}},directives:[E.a,n.t,Et.a,Ot.c,n.s,Et.c,Ot.a,Et.e,Et.f,D.a,Ot.b,a.d,a.u,a.x,a.G,a.z,a.J,Et.d,T.b],pipes:[n.b],styles:["[_nghost-%COMP%]{display:block}.title[_ngcontent-%COMP%]{margin:35px 0 5px}.no-menu-items[_ngcontent-%COMP%]{font-size:1.6rem;font-style:italic;color:var(--be-secondary-text);margin:10px 0}.icon-input-container[_ngcontent-%COMP%]{position:relative}.icon-input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:35px}.icon-input-container[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{position:absolute;top:36px;left:8px;color:var(--be-secondary-text)}.menu-item-list[_ngcontent-%COMP%]{padding-top:25px}.mat-expansion-panel[_ngcontent-%COMP%]{margin-bottom:10px;border-radius:4px;border:1px solid var(--be-divider-default)}.mat-expansion-panel-header[_ngcontent-%COMP%]{min-height:57px}.mat-expansion-panel-header.mat-expanded[_ngcontent-%COMP%]{border-bottom:1px solid var(--be-divider-default)}.mat-action-row[_ngcontent-%COMP%]{border:none;padding:0 15px 10px}.drag-handle[_ngcontent-%COMP%]{display:block;color:var(--be-secondary-text);margin-right:8px;cursor:move}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%], .cdk-drop-list-dragging[_ngcontent-%COMP%]   .cdk-drag[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}"],changeDetection:0}),t})();function qt(t,e){if(1&t&&(l.Vb(0,"option",15),l.Jc(1),l.Ub()),2&t){const t=e.$implicit,i=l.gc(2);l.nc("ngValue",t),l.Cb(1),l.Kc(i.getDisplayName(t))}}function Bt(t,e){if(1&t){const t=l.Wb();l.Vb(0,"div",4),l.Vb(1,"div",5),l.Vb(2,"div",6),l.Vb(3,"label",7),l.Jc(4,"Menu Name"),l.Ub(),l.Vb(5,"input",8),l.cc("ngModelChange",(function(i){return l.yc(t),e.ngIf.name=i}))("ngModelChange",(function(){return l.yc(t),l.gc().menus.commitChanges()})),l.Ub(),l.Ub(),l.Vb(6,"div",6),l.Vb(7,"label",9),l.Jc(8,"Menu Position"),l.Ub(),l.Vb(9,"select",10),l.cc("ngModelChange",(function(i){return l.yc(t),e.ngIf.position=i}))("ngModelChange",(function(){return l.yc(t),l.gc().menus.commitChanges()})),l.Hc(10,qt,2,2,"option",11),l.Ub(),l.Ub(),l.Ub(),l.Qb(11,"menu-items"),l.Vb(12,"div",12),l.Vb(13,"button",13),l.cc("click",(function(){return l.yc(t),l.gc().confirmMenuDeletion()})),l.Jc(14,"Delete Menu"),l.Ub(),l.Vb(15,"button",14),l.cc("click",(function(){return l.yc(t),l.gc().openAddItemPanel()})),l.Jc(16,"Add Item"),l.Ub(),l.Ub(),l.Ub()}if(2&t){const t=e.ngIf,i=l.gc();l.Cb(5),l.nc("ngModel",t.name),l.Cb(4),l.nc("ngModel",t.position),l.Cb(1),l.nc("ngForOf",i.appearance.config.menus.positions)}}function Kt(t,e){if(1&t){const t=l.Wb();l.Vb(0,"div",19),l.cc("click",(function(){l.yc(t);const i=e.$implicit;return l.gc(2).setActiveMenu(i)})),l.Vb(1,"span",20),l.Jc(2),l.Ub(),l.Qb(3,"mat-icon",21),l.Ub()}if(2&t){const t=e.$implicit;l.Cb(2),l.Kc(t.name)}}function Xt(t,e){if(1&t){const t=l.Wb();l.Vb(0,"div",16),l.Hc(1,Kt,4,1,"div",17),l.hc(2,"async"),l.Vb(3,"div",12),l.Vb(4,"button",18),l.cc("click",(function(){return l.yc(t),l.gc().menus.create()})),l.Jc(5,"Add a Menu"),l.Ub(),l.Ub(),l.Ub()}if(2&t){const t=l.gc();l.Cb(1),l.nc("ngForOf",l.ic(2,1,t.menus.allMenus$))}}const Zt=function(t){return["Menus",t]};let Yt=(()=>{class t{constructor(t,e,i,n,a,o){this.appearance=t,this.menus=e,this.modal=i,this.settings=n,this.panel=a,this.el=o,this.menus.setFromJson(this.settings.get("menus"))}openAddItemPanel(){const t=Mt.a.slice();t[0].offsetX=10,t[1].offsetX=10,this.panel.open(Lt,{position:t,origin:this.el,panelClass:"add-menu-item-panel-container"})}openPreviousPanel(){this.menus.activeMenu$.value?this.menus.activeMenu$.next(null):this.appearance.closeActivePanel()}setActiveMenu(t){this.menus.activeMenu$.next(t)}confirmMenuDeletion(){this.modal.show(vt.a,{title:"Delete Menu",body:"Are you sure you want to delete this menu?",ok:"Delete"}).afterClosed().subscribe(t=>{t&&this.menus.deleteActive()})}getDisplayName(t){return t.replace(/-/g," ")}}return t.\u0275fac=function(e){return new(e||t)(l.Pb($),l.Pb($t),l.Pb(Ct.a),l.Pb(I.a),l.Pb(Nt.a),l.Pb(l.l))},t.\u0275cmp=l.Jb({type:t,selectors:[["menus-appearance-panel"]],decls:6,vars:7,consts:[[3,"path","back"],[1,"appearance-panel-content"],["class","menu-panel",4,"ngIf","ngIfElse"],["allMenuList",""],[1,"menu-panel"],[1,"many-inputs","menu-settings"],[1,"input-container"],["for","menu-name","trans",""],["type","text","id","menu-name",3,"ngModel","ngModelChange"],["for","menu-position","trans",""],["id","menu-position",3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"action-buttons"],["mat-button","","color","warn","trans","",3,"click"],["mat-button","","color","accent","trans","",1,"button","flat","add-item-button",3,"click"],[3,"ngValue"],[1,"menus"],["class","menu nav-item",3,"click",4,"ngFor","ngForOf"],["mat-button","","color","accent","trans","",1,"button","primary",3,"click"],[1,"menu","nav-item",3,"click"],[1,"name"],["svgIcon","keyboard-arrow-right",1,"actions"]],template:function(t,e){if(1&t&&(l.Vb(0,"appearance-panel-meta",0),l.cc("back",(function(){return e.openPreviousPanel()})),l.Ub(),l.Vb(1,"div",1),l.Hc(2,Bt,17,3,"div",2),l.hc(3,"async"),l.Hc(4,Xt,6,3,"ng-template",null,3,l.Ic),l.Ub()),2&t){const t=l.vc(5);l.nc("path",l.rc(5,Zt,e.menus.activeMenu$.value&&e.menus.activeMenu$.value.name)),l.Cb(2),l.nc("ngIf",l.ic(3,3,e.menus.activeMenu$))("ngIfElse",t)}},directives:[A,n.t,E.a,a.d,a.u,a.x,a.G,n.s,Gt,T.b,a.z,a.J,D.a],pipes:[n.b],styles:["[_nghost-%COMP%]{display:block}.menu-settings[_ngcontent-%COMP%]{margin:10px 0}.menu-settings[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{text-transform:capitalize}.action-buttons[_ngcontent-%COMP%]{text-align:right;margin:10px 0}"],changeDetection:0}),t})();function te(t,e){if(1&t&&(l.Tb(0),l.Vb(1,"div",3),l.Vb(2,"label",4),l.Jc(3),l.Ub(),l.Qb(4,"textarea",5),l.Ub(),l.Sb()),2&t){const t=e.$implicit;l.Cb(2),l.nc("for",t.key),l.Cb(1),l.Kc(t.name),l.Cb(1),l.nc("id",t.key)("formControlName",t.key)("placeholder",t.defaultValue)}}const ee=function(){return["Seo Settings"]};let ie=(()=>{class t{constructor(t,e){this.editor=t,this.fb=e,this.form=this.fb.group({})}ngOnInit(){this.seoFields=this.editor.defaultSettings.seo_fields,this.seoFields.forEach(t=>{this.form.addControl(t.key,this.fb.control(t.value))}),this.form.valueChanges.subscribe(t=>{this.editor.addChanges(t)})}}return t.\u0275fac=function(e){return new(e||t)(l.Pb($),l.Pb(a.h))},t.\u0275cmp=l.Jb({type:t,selectors:[["seo-appearance-panel"]],decls:3,vars:4,consts:[[3,"path","back"],[1,"appearance-panel-content","many-inputs",3,"formGroup"],[4,"ngFor","ngForOf"],[1,"input-container"],["trans","",3,"for"],["type","text","rows","2",3,"id","formControlName","placeholder"]],template:function(t,e){1&t&&(l.Vb(0,"appearance-panel-meta",0),l.cc("back",(function(){return e.editor.closeActivePanel()})),l.Ub(),l.Vb(1,"div",1),l.Hc(2,te,5,5,"ng-container",2),l.Ub()),2&t&&(l.nc("path",l.qc(3,ee)),l.Cb(1),l.nc("formGroup",e.form),l.Cb(1),l.nc("ngForOf",e.seoFields))},directives:[A,a.v,a.m,n.s,E.a,a.d,a.u,a.k],styles:["label[_ngcontent-%COMP%]{text-transform:capitalize}"],changeDetection:0}),t})();var ne=i("FtGj"),ae=i("5o4b");const oe=["editor"];function se(t,e){1&t&&(l.Vb(0,"p",11),l.Jc(1,"If entering javascript, wrap it with <script><\/script> tag."),l.Ub())}let re=(()=>{class t{constructor(t,e,i){this.dialogRef=t,this.data=e,this.lazyLoader=i,this.loading$=new x.a(!1),this.syntaxInvalid$=new x.a(!1)}ngOnInit(){this.initEditor(this.data.contents,this.data.language),this.overrideDialogCloseEvents()}confirm(){this.close(this.editor.getValue())}close(t){this.dialogRef.close(t)}initEditor(t,e="html"){this.loading$.next(!0),this.lazyLoader.loadAsset("js/ace/ace.js",{type:"js"}).then(()=>{this.editor=ace.edit(this.editorEl.nativeElement),this.editor.getSession().setMode("ace/mode/"+e),this.editor.setTheme("ace/theme/chrome"),this.editor.$blockScrolling=1/0,t&&this.editor.setValue(t,1),this.editor.getSession().on("changeAnnotation",()=>{const t=this.editor.getSession().getAnnotations();if(t[0]&&/doctype first/.test(t[0].text))return t.splice(0,1),void this.editor.getSession().setAnnotations(t);const e=this.editor.getSession().getAnnotations().filter(t=>"error"===t.type).length>0;this.syntaxInvalid$.next(e)}),this.loading$.next(!1)})}overrideDialogCloseEvents(){this.dialogRef.disableClose=!0,this.dialogRef.backdropClick().subscribe(()=>{this.close()}),this.dialogRef.keydownEvents().pipe(Object(V.a)(t=>t.keyCode===ne.g)).subscribe(()=>this.close())}}return t.\u0275fac=function(e){return new(e||t)(l.Pb(ct.h),l.Pb(ct.a),l.Pb(ae.a))},t.\u0275cmp=l.Jb({type:t,selectors:[["code-editor-modal"]],viewQuery:function(t,e){var i;1&t&&l.Fc(oe,!0),2&t&&l.uc(i=l.dc())&&(e.editorEl=i.first)},decls:18,vars:7,consts:[[1,"modal-header"],["mat-dialog-title","","trans","",1,"modal-title"],["type","button","tabindex","-1",1,"close-button","no-style",3,"click"],["svgIcon","close"],[1,"editor-container"],["class","info","trans","",4,"ngIf"],[1,"editor"],["editor",""],["type","button","mat-button","","trans","",3,"click"],["type","submit","mat-raised-button","","color","accent","trans","",3,"disabled","click"],[1,"overlay",3,"isVisible"],["trans","",1,"info"]],template:function(t,e){1&t&&(l.Vb(0,"div",0),l.Vb(1,"h2",1),l.Jc(2,"Code Editor"),l.Ub(),l.Vb(3,"button",2),l.cc("click",(function(){return e.close()})),l.Qb(4,"mat-icon",3),l.Ub(),l.Ub(),l.Vb(5,"mat-dialog-content"),l.Vb(6,"div",4),l.Hc(7,se,2,0,"p",5),l.Qb(8,"div",6,7),l.Ub(),l.Ub(),l.Vb(10,"mat-dialog-actions"),l.Vb(11,"button",8),l.cc("click",(function(){return e.close()})),l.Jc(12,"Cancel"),l.Ub(),l.Vb(13,"button",9),l.cc("click",(function(){return e.confirm()})),l.hc(14,"async"),l.Jc(15,"Update"),l.Ub(),l.Ub(),l.Qb(16,"loading-indicator",10),l.hc(17,"async")),2&t&&(l.Cb(7),l.nc("ngIf","html"===e.data.language),l.Cb(6),l.nc("disabled",l.ic(14,3,e.syntaxInvalid$)),l.Cb(3),l.nc("isVisible",l.ic(17,5,e.loading$)))},directives:[ct.i,E.a,D.a,ct.f,n.t,ct.c,T.b,yt.a],pipes:[n.b],styles:["[_nghost-%COMP%]{display:block;width:800px;max-width:100%}.modal-header[_ngcontent-%COMP%]{margin:0 0 15px}.editor[_ngcontent-%COMP%]{min-height:550px;border:1px solid var(--be-divider-default);font-size:1.4rem}.info[_ngcontent-%COMP%]{color:var(--be-secondary-text)}"],changeDetection:0}),t})();const ce=function(){return["Custom Code"]};let le=(()=>{class t{constructor(t,e,i,n){this.editor=t,this.fb=e,this.modal=i,this.toast=n,this.form=this.fb.group({"custom-code.css":[""],"custom-code.html":[""]})}ngOnInit(){const t={};Object.keys(this.form.controls).forEach(e=>{t[e]=this.editor.currentValue(e)}),this.form.patchValue(t)}openModal(t){const e="custom-code."+t,i=this.form.value[e]||"";this.modal.open(re,{contents:this.form.value[e],language:t}).afterClosed().subscribe(n=>{if(void 0===n||i===n)return;const a={[e]:n};this.form.patchValue(a),this.editor.saveChanges(a).subscribe(()=>{this.addCodeToPreview(t,n),this.toast.open("Custom code saved")})})}addCodeToPreview(t,e){this.editor.postMessage("css"===t?new v(e):new C(e))}}return t.\u0275fac=function(e){return new(e||t)(l.Pb($),l.Pb(a.h),l.Pb(Ct.a),l.Pb(S.b))},t.\u0275cmp=l.Jb({type:t,selectors:[["custom-code-appearance-panel"]],decls:12,vars:2,consts:[[3,"path","back"],[1,"appearance-panel-content"],["type","button",1,"nav-item",3,"click"],["trans","",1,"text"],["trans","",1,"actions"],[1,"nav-item",3,"click"]],template:function(t,e){1&t&&(l.Vb(0,"appearance-panel-meta",0),l.cc("back",(function(){return e.editor.closeActivePanel()})),l.Ub(),l.Vb(1,"div",1),l.Vb(2,"button",2),l.cc("click",(function(){return e.openModal("css")})),l.Vb(3,"span",3),l.Jc(4,"Custom CSS"),l.Ub(),l.Vb(5,"span",4),l.Jc(6,"Modify"),l.Ub(),l.Ub(),l.Vb(7,"button",5),l.cc("click",(function(){return e.openModal("html")})),l.Vb(8,"span",3),l.Jc(9,"Custom HTML & Javascript"),l.Ub(),l.Vb(10,"span",4),l.Jc(11,"Modify"),l.Ub(),l.Ub(),l.Ub()),2&t&&l.nc("path",l.qc(1,ce))},directives:[A,E.a],styles:[".actions[_ngcontent-%COMP%]{color:var(--be-link);font-size:1.3rem}"],changeDetection:0}),t})();const de=["iframe"];function ue(t,e){1&t&&(l.Vb(0,"span",15),l.Jc(1,"Save"),l.Ub())}function be(t,e){1&t&&(l.Vb(0,"span",15),l.Jc(1,"Saved"),l.Ub())}function he(t,e){1&t&&l.Qb(0,"general-appearance-panel")}function me(t,e){1&t&&l.Qb(0,"themes-appearance-panel")}function pe(t,e){1&t&&l.Qb(0,"menus-appearance-panel")}function ge(t,e){1&t&&l.Qb(0,"seo-appearance-panel")}function fe(t,e){1&t&&l.Qb(0,"custom-code-appearance-panel")}function ve(t,e){}function Ce(t,e){1&t&&l.Hc(0,ve,0,0,"ng-template",20),2&t&&l.nc("cdkPortalOutlet",e.ngIf)}function ye(t,e){if(1&t&&(l.Tb(0),l.Hc(1,Ce,1,1,void 0,19),l.hc(2,"async"),l.Sb()),2&t){const t=l.gc(2);l.Cb(1),l.nc("ngIf",l.ic(2,1,t.panelPortal$))}}function xe(t,e){if(1&t&&(l.Tb(0),l.Tb(1,16),l.Hc(2,he,1,0,"general-appearance-panel",17),l.Hc(3,me,1,0,"themes-appearance-panel",17),l.Hc(4,pe,1,0,"menus-appearance-panel",17),l.Hc(5,ge,1,0,"seo-appearance-panel",17),l.Hc(6,fe,1,0,"custom-code-appearance-panel",17),l.Hc(7,ye,3,3,"ng-container",18),l.Sb(),l.Sb()),2&t){const t=e.ngIf;l.Cb(1),l.nc("ngSwitch",t.name),l.Cb(1),l.nc("ngSwitchCase","general"),l.Cb(1),l.nc("ngSwitchCase","themes"),l.Cb(1),l.nc("ngSwitchCase","menus"),l.Cb(1),l.nc("ngSwitchCase","seo-settings"),l.Cb(1),l.nc("ngSwitchCase","custom-code")}}const _e=function(){return[]},ke=function(t){return{panel:t}};function Ve(t,e){if(1&t&&(l.Vb(0,"a",23),l.Vb(1,"span",24),l.Jc(2),l.Ub(),l.Qb(3,"mat-icon",25),l.Ub()),2&t){const t=e.$implicit,i=l.gc(2);l.nc("routerLink",l.qc(3,_e))("queryParams",l.rc(4,ke,i.slugify(t.name))),l.Cb(2),l.Kc(i.viewName(t.name))}}function we(t,e){if(1&t&&(l.Vb(0,"div",21),l.Hc(1,Ve,4,6,"a",22),l.Ub()),2&t){const t=l.gc();l.Cb(1),l.nc("ngForOf",t.editor.config.sections)}}let Pe=(()=>{class t{constructor(t,e,i,n,a){this.editor=t,this.router=e,this.route=i,this.breakpoints=n,this.config=a,this.leftColumnIsHidden=!1,this.panelPortal$=this.editor.activePanel$.pipe(Object(c.a)(t=>t&&t.component?new r.d(t.component):null))}ngOnInit(){this.leftColumnIsHidden=this.breakpoints.isMobile$.value,this.editor.init(this.iframe.nativeElement,this.route.snapshot.data.defaultSettings,this.config),this.routerSub=this.route.queryParams.subscribe(t=>{this.editor.openPanel(t.panel)})}ngOnDestroy(){this.routerSub&&this.routerSub.unsubscribe()}closeEditor(){this.router.navigate(["admin"])}slugify(t){return Object(s.a)(t)}viewName(t){return t.replace("-"," ")}toggleLeftSidebar(){this.leftColumnIsHidden=!this.leftColumnIsHidden}}return t.\u0275fac=function(e){return new(e||t)(l.Pb($),l.Pb(o.d),l.Pb(o.a),l.Pb(J.a),l.Pb(d,8))},t.\u0275cmp=l.Jb({type:t,selectors:[["appearance"]],viewQuery:function(t,e){var i;1&t&&l.Fc(de,!0),2&t&&l.uc(i=l.dc())&&(e.iframe=i.first)},decls:25,vars:17,consts:[[1,"sidebar",3,"opened","mode"],[1,"header"],[1,"back-button",3,"click"],["svgIcon","close"],["trans","",1,"title"],["mat-raised-button","","color","accent",1,"button","primary","save-button",3,"disabled","click"],["trans","",4,"ngIf","ngIfElse"],["saved",""],[4,"ngIf","ngIfElse"],["navigation",""],[1,"live-preview"],["src","about:blank"],["iframe",""],["mat-fab","",1,"sidebar-toggle-button",3,"click"],["svgIcon","edit"],["trans",""],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[4,"ngIf"],[3,"cdkPortalOutlet"],[1,"root-navigation"],["class","nav-item",3,"routerLink","queryParams",4,"ngFor","ngForOf"],[1,"nav-item",3,"routerLink","queryParams"],["trans","",1,"text"],["svgIcon","keyboard-arrow-right",1,"actions"]],template:function(t,e){if(1&t&&(l.Vb(0,"mat-sidenav-container"),l.Vb(1,"mat-sidenav",0),l.hc(2,"async"),l.Vb(3,"div",1),l.Vb(4,"div",2),l.cc("click",(function(){return e.closeEditor()})),l.Qb(5,"mat-icon",3),l.Ub(),l.Vb(6,"div",4),l.Jc(7,"Appearance Editor"),l.Ub(),l.Vb(8,"button",5),l.cc("click",(function(){return e.editor.saveChanges()})),l.hc(9,"async"),l.hc(10,"async"),l.Hc(11,ue,2,0,"span",6),l.hc(12,"async"),l.Hc(13,be,2,0,"ng-template",null,7,l.Ic),l.Ub(),l.Ub(),l.Hc(15,xe,8,6,"ng-container",8),l.hc(16,"async"),l.Hc(17,we,2,1,"ng-template",null,9,l.Ic),l.Ub(),l.Vb(19,"mat-sidenav-content"),l.Vb(20,"div",10),l.Qb(21,"iframe",11,12),l.Ub(),l.Ub(),l.Ub(),l.Vb(23,"button",13),l.cc("click",(function(){return e.toggleLeftSidebar()})),l.Qb(24,"mat-icon",14),l.Ub()),2&t){const t=l.vc(14),i=l.vc(18);l.Cb(1),l.nc("opened",!e.leftColumnIsHidden)("mode",l.ic(2,7,e.breakpoints.isMobile$)?"over":"side"),l.Cb(7),l.nc("disabled",!l.ic(9,9,e.editor.changes$)||l.ic(10,11,e.editor.loading$)),l.Cb(3),l.nc("ngIf",l.ic(12,13,e.editor.changes$))("ngIfElse",t),l.Cb(4),l.nc("ngIf",l.ic(16,15,e.editor.activePanel$))("ngIfElse",i)}},directives:[F.b,F.a,D.a,E.a,T.b,n.t,F.c,n.x,n.y,n.z,rt,Ut,Yt,ie,le,r.c,n.s,o.g],pipes:[n.b],styles:[".mat-sidenav-container[_ngcontent-%COMP%]{height:100vh}.sidebar-toggle-button[_ngcontent-%COMP%]{display:none;position:fixed;bottom:15px;right:15px;z-index:3}.sidebar[_ngcontent-%COMP%]{box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);width:330px;background-color:var(--be-background-alternative)}.sidebar[_ngcontent-%COMP%]   .root-navigation[_ngcontent-%COMP%]{padding:10px}.sidebar[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;align-items:center;padding-right:10px;border-bottom:1px solid var(--be-divider-default);height:50px}.sidebar[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{padding-left:10px;font-size:1.7rem;font-weight:300}.sidebar[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{margin-left:auto;max-height:36px;box-shadow:none}.sidebar[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]:disabled{cursor:default}.live-preview[_ngcontent-%COMP%]{display:flex;height:100%;justify-content:center;align-items:center;flex:1 1 auto;position:relative}.live-preview[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{border:none;width:100%;height:100%}@media screen and (max-width:768px){.sidebar-toggle-button[_ngcontent-%COMP%]{display:block}}"],changeDetection:0}),t})(),Ue=(()=>{class t{constructor(t,e){this.editor=t,this.modal=e}canDeactivate(){return!this.editor.changes$.value||this.modal.show(vt.a,{title:"Close Appearance Editor",body:"Are you sure you want to close appearance editor?",bodyBold:"All unsaved changes will be lost.",ok:"Close",cancel:"Stay"}).afterClosed()}}return t.\u0275fac=function(e){return new(e||t)(l.Zb($),l.Zb(Ct.a))},t.\u0275prov=l.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Me=i("0QyJ"),Ie=i("JIr8"),Oe=i("5+tZ"),Se=i("EY2u"),$e=i("LRne");const Je=[{path:"",component:Pe,data:{permissions:["appearance.update"]},resolve:{defaultSettings:(()=>{class t{constructor(t,e){this.router=t,this.http=e}resolve(t,e){return this.http.get("admin/appearance/values").pipe(Object(Ie.a)(()=>(this.router.navigate(["/admin"]),Se.a)),Object(Oe.a)(t=>t?Object($e.a)(t):(this.router.navigate(["/admin"]),Se.a)))}}return t.\u0275fac=function(e){return new(e||t)(l.Zb(o.d),l.Zb(O.a))},t.\u0275prov=l.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},canActivate:[Me.a],canDeactivate:[Ue],children:[{path:""},{path:":panel"},{path:":panel/:activeItem"}]}];let Fe=(()=>{class t{}return t.\u0275mod=l.Nb({type:t}),t.\u0275inj=l.Mb({factory:function(e){return new(e||t)},imports:[[o.h.forChild(Je)],o.h]}),t})();var De=i("X3pI");let Ee=(()=>{class t{}return t.\u0275mod=l.Nb({type:t}),t.\u0275inj=l.Mb({factory:function(e){return new(e||t)},imports:[[n.c,De.a,T.c,D.b]]}),t})();var Te=i("6rvT"),He=i("MKyN"),ze=i("NVDw");let Le=(()=>{class t{}return t.\u0275mod=l.Nb({type:t}),t.\u0275inj=l.Mb({factory:function(e){return new(e||t)},providers:[{provide:d,useValue:u,multi:!0}],imports:[[Fe,n.c,a.o,a.E,Ee,Te.a,He.a,De.a,ze.a,B.c,X.b,D.b,T.c,ct.g,Et.b,Ot.d,F.d,r.h,dt.b]]}),t})();var Ne=i("FKr1"),Ae=i("8LU1"),Qe=i("R1ws"),je=i("nLfN"),Re=i("quSY"),We=i("u47x"),Ge=i("cH1L");const qe=["sliderWrapper"],Be=Object(je.f)({passive:!1}),Ke={provide:a.s,useExisting:Object(l.W)(()=>ti),multi:!0};class Xe{}class Ze{constructor(t){this._elementRef=t}}const Ye=Object(Ne.x)(Object(Ne.t)(Object(Ne.v)(Ze),"accent"));let ti=(()=>{class t extends Ye{constructor(t,e,i,n,a,o,s,r){super(t),this._focusMonitor=e,this._changeDetectorRef=i,this._dir=n,this._ngZone=o,this._animationMode=r,this._invert=!1,this._max=100,this._min=0,this._step=1,this._thumbLabel=!1,this._tickInterval=0,this._value=null,this._vertical=!1,this.change=new l.o,this.input=new l.o,this.valueChange=new l.o,this.onTouched=()=>{},this._percent=0,this._isSliding=!1,this._isActive=!1,this._tickIntervalPercent=0,this._sliderDimensions=null,this._controlValueAccessorChangeFn=()=>{},this._dirChangeSubscription=Re.a.EMPTY,this._pointerDown=t=>{this.disabled||this._isSliding||!ei(t)&&0!==t.button||this._ngZone.run(()=>{const e=this.value,i=ii(t);this._isSliding=!0,this._lastPointerEvent=t,t.preventDefault(),this._focusHostElement(),this._onMouseenter(),this._bindGlobalEvents(t),this._focusHostElement(),this._updateValueFromPosition(i),this._valueOnSlideStart=this.value,this._pointerPositionOnStart=i,e!=this.value&&(this._emitInputEvent(),this._emitChangeEvent())})},this._pointerMove=t=>{if(this._isSliding){t.preventDefault();const e=this.value;this._lastPointerEvent=t,this._updateValueFromPosition(ii(t)),e!=this.value&&this._emitInputEvent()}},this._pointerUp=t=>{if(this._isSliding){const e=this._pointerPositionOnStart,i=ii(t);t.preventDefault(),this._removeGlobalEvents(),this._valueOnSlideStart=this._pointerPositionOnStart=this._lastPointerEvent=null,this._isSliding=!1,this._valueOnSlideStart==this.value||this.disabled||!e||e.x===i.x&&e.y===i.y||this._emitChangeEvent()}},this._windowBlur=()=>{this._lastPointerEvent&&this._pointerUp(this._lastPointerEvent)},this._document=s,this.tabIndex=parseInt(a)||0,o.runOutsideAngular(()=>{const e=t.nativeElement;e.addEventListener("mousedown",this._pointerDown,Be),e.addEventListener("touchstart",this._pointerDown,Be)})}get invert(){return this._invert}set invert(t){this._invert=Object(Ae.c)(t)}get max(){return this._max}set max(t){this._max=Object(Ae.f)(t,this._max),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get min(){return this._min}set min(t){this._min=Object(Ae.f)(t,this._min),null===this._value&&(this.value=this._min),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get step(){return this._step}set step(t){this._step=Object(Ae.f)(t,this._step),this._step%1!=0&&(this._roundToDecimal=this._step.toString().split(".").pop().length),this._changeDetectorRef.markForCheck()}get thumbLabel(){return this._thumbLabel}set thumbLabel(t){this._thumbLabel=Object(Ae.c)(t)}get tickInterval(){return this._tickInterval}set tickInterval(t){this._tickInterval="auto"===t?"auto":"number"==typeof t||"string"==typeof t?Object(Ae.f)(t,this._tickInterval):0}get value(){return null===this._value&&(this.value=this._min),this._value}set value(t){if(t!==this._value){let e=Object(Ae.f)(t);this._roundToDecimal&&(e=parseFloat(e.toFixed(this._roundToDecimal))),this._value=e,this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}}get vertical(){return this._vertical}set vertical(t){this._vertical=Object(Ae.c)(t)}get displayValue(){return this.displayWith?this.displayWith(this.value):this._roundToDecimal&&this.value&&this.value%1!=0?this.value.toFixed(this._roundToDecimal):this.value||0}focus(t){this._focusHostElement(t)}blur(){this._blurHostElement()}get percent(){return this._clamp(this._percent)}get _invertAxis(){return this.vertical?!this.invert:this.invert}get _isMinValue(){return 0===this.percent}get _thumbGap(){return this.disabled?7:this._isMinValue&&!this.thumbLabel?this._isActive?10:7:0}get _trackBackgroundStyles(){const t=this.vertical?`1, ${1-this.percent}, 1`:1-this.percent+", 1, 1";return{transform:`translate${this.vertical?"Y":"X"}(${this._shouldInvertMouseCoords()?"-":""}${this._thumbGap}px) scale3d(${t})`}}get _trackFillStyles(){const t=this.percent,e=this.vertical?`1, ${t}, 1`:t+", 1, 1";return{transform:`translate${this.vertical?"Y":"X"}(${this._shouldInvertMouseCoords()?"":"-"}${this._thumbGap}px) scale3d(${e})`,display:0===t?"none":""}}get _ticksContainerStyles(){return{transform:`translate${this.vertical?"Y":"X"}(${this.vertical||"rtl"!=this._getDirection()?"-":""}${this._tickIntervalPercent/2*100}%)`}}get _ticksStyles(){let t=100*this._tickIntervalPercent,e={backgroundSize:this.vertical?`2px ${t}%`:t+"% 2px",transform:`translateZ(0) translate${this.vertical?"Y":"X"}(${this.vertical||"rtl"!=this._getDirection()?"":"-"}${t/2}%)${this.vertical||"rtl"!=this._getDirection()?"":" rotate(180deg)"}`};if(this._isMinValue&&this._thumbGap){let t;t=this.vertical?this._invertAxis?"Bottom":"Top":this._invertAxis?"Right":"Left",e["padding"+t]=this._thumbGap+"px"}return e}get _thumbContainerStyles(){return{transform:`translate${this.vertical?"Y":"X"}(-${100*(("rtl"!=this._getDirection()||this.vertical?this._invertAxis:!this._invertAxis)?this.percent:1-this.percent)}%)`}}_shouldInvertMouseCoords(){return"rtl"!=this._getDirection()||this.vertical?this._invertAxis:!this._invertAxis}_getDirection(){return this._dir&&"rtl"==this._dir.value?"rtl":"ltr"}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{this._isActive=!!t&&"keyboard"!==t,this._changeDetectorRef.detectChanges()}),this._dir&&(this._dirChangeSubscription=this._dir.change.subscribe(()=>{this._changeDetectorRef.markForCheck()}))}ngOnDestroy(){const t=this._elementRef.nativeElement;t.removeEventListener("mousedown",this._pointerDown,Be),t.removeEventListener("touchstart",this._pointerDown,Be),this._lastPointerEvent=null,this._removeGlobalEvents(),this._focusMonitor.stopMonitoring(this._elementRef),this._dirChangeSubscription.unsubscribe()}_onMouseenter(){this.disabled||(this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent())}_onFocus(){this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent()}_onBlur(){this.onTouched()}_onKeydown(t){if(this.disabled||Object(ne.s)(t))return;const e=this.value;switch(t.keyCode){case ne.l:this._increment(10);break;case ne.k:this._increment(-10);break;case ne.e:this.value=this.max;break;case ne.h:this.value=this.min;break;case ne.i:this._increment("rtl"==this._getDirection()?1:-1);break;case ne.p:this._increment(1);break;case ne.m:this._increment("rtl"==this._getDirection()?-1:1);break;case ne.d:this._increment(-1);break;default:return}e!=this.value&&(this._emitInputEvent(),this._emitChangeEvent()),this._isSliding=!0,t.preventDefault()}_onKeyup(){this._isSliding=!1}_getWindow(){return this._document.defaultView||window}_bindGlobalEvents(t){const e=this._document,i=ei(t),n=i?"touchend":"mouseup";e.addEventListener(i?"touchmove":"mousemove",this._pointerMove,Be),e.addEventListener(n,this._pointerUp,Be),i&&e.addEventListener("touchcancel",this._pointerUp,Be);const a=this._getWindow();void 0!==a&&a&&a.addEventListener("blur",this._windowBlur)}_removeGlobalEvents(){const t=this._document;t.removeEventListener("mousemove",this._pointerMove,Be),t.removeEventListener("mouseup",this._pointerUp,Be),t.removeEventListener("touchmove",this._pointerMove,Be),t.removeEventListener("touchend",this._pointerUp,Be),t.removeEventListener("touchcancel",this._pointerUp,Be);const e=this._getWindow();void 0!==e&&e&&e.removeEventListener("blur",this._windowBlur)}_increment(t){this.value=this._clamp((this.value||0)+this.step*t,this.min,this.max)}_updateValueFromPosition(t){if(!this._sliderDimensions)return;let e=this._clamp(((this.vertical?t.y:t.x)-(this.vertical?this._sliderDimensions.top:this._sliderDimensions.left))/(this.vertical?this._sliderDimensions.height:this._sliderDimensions.width));if(this._shouldInvertMouseCoords()&&(e=1-e),0===e)this.value=this.min;else if(1===e)this.value=this.max;else{const t=this._calculateValue(e),i=Math.round((t-this.min)/this.step)*this.step+this.min;this.value=this._clamp(i,this.min,this.max)}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.value),this.valueChange.emit(this.value),this.change.emit(this._createChangeEvent())}_emitInputEvent(){this.input.emit(this._createChangeEvent())}_updateTickIntervalPercent(){if(this.tickInterval&&this._sliderDimensions)if("auto"==this.tickInterval){let t=this.vertical?this._sliderDimensions.height:this._sliderDimensions.width,e=Math.ceil(30/(t*this.step/(this.max-this.min)));this._tickIntervalPercent=e*this.step/t}else this._tickIntervalPercent=this.tickInterval*this.step/(this.max-this.min)}_createChangeEvent(t=this.value){let e=new Xe;return e.source=this,e.value=t,e}_calculatePercentage(t){return((t||0)-this.min)/(this.max-this.min)}_calculateValue(t){return this.min+t*(this.max-this.min)}_clamp(t,e=0,i=1){return Math.max(e,Math.min(t,i))}_getSliderDimensions(){return this._sliderWrapper?this._sliderWrapper.nativeElement.getBoundingClientRect():null}_focusHostElement(t){this._elementRef.nativeElement.focus(t)}_blurHostElement(){this._elementRef.nativeElement.blur()}writeValue(t){this.value=t}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t}}return t.\u0275fac=function(e){return new(e||t)(l.Pb(l.l),l.Pb(We.h),l.Pb(l.h),l.Pb(Ge.c,8),l.ac("tabindex"),l.Pb(l.B),l.Pb(n.e),l.Pb(Qe.a,8))},t.\u0275cmp=l.Jb({type:t,selectors:[["mat-slider"]],viewQuery:function(t,e){var i;1&t&&l.Qc(qe,!0),2&t&&l.uc(i=l.dc())&&(e._sliderWrapper=i.first)},hostAttrs:["role","slider",1,"mat-slider","mat-focus-indicator"],hostVars:28,hostBindings:function(t,e){1&t&&l.cc("focus",(function(){return e._onFocus()}))("blur",(function(){return e._onBlur()}))("keydown",(function(t){return e._onKeydown(t)}))("keyup",(function(){return e._onKeyup()}))("mouseenter",(function(){return e._onMouseenter()}))("selectstart",(function(t){return t.preventDefault()})),2&t&&(l.Yb("tabIndex",e.tabIndex),l.Db("aria-disabled",e.disabled)("aria-valuemax",e.max)("aria-valuemin",e.min)("aria-valuenow",e.value)("aria-orientation",e.vertical?"vertical":"horizontal"),l.Gb("mat-slider-disabled",e.disabled)("mat-slider-has-ticks",e.tickInterval)("mat-slider-horizontal",!e.vertical)("mat-slider-axis-inverted",e._invertAxis)("mat-slider-invert-mouse-coords",e._shouldInvertMouseCoords())("mat-slider-sliding",e._isSliding)("mat-slider-thumb-label-showing",e.thumbLabel)("mat-slider-vertical",e.vertical)("mat-slider-min-value",e._isMinValue)("mat-slider-hide-last-tick",e.disabled||e._isMinValue&&e._thumbGap&&e._invertAxis)("_mat-animation-noopable","NoopAnimations"===e._animationMode))},inputs:{disabled:"disabled",color:"color",tabIndex:"tabIndex",invert:"invert",max:"max",min:"min",value:"value",step:"step",thumbLabel:"thumbLabel",tickInterval:"tickInterval",vertical:"vertical",displayWith:"displayWith"},outputs:{change:"change",input:"input",valueChange:"valueChange"},exportAs:["matSlider"],features:[l.Bb([Ke]),l.zb],decls:13,vars:6,consts:[[1,"mat-slider-wrapper"],["sliderWrapper",""],[1,"mat-slider-track-wrapper"],[1,"mat-slider-track-background",3,"ngStyle"],[1,"mat-slider-track-fill",3,"ngStyle"],[1,"mat-slider-ticks-container",3,"ngStyle"],[1,"mat-slider-ticks",3,"ngStyle"],[1,"mat-slider-thumb-container",3,"ngStyle"],[1,"mat-slider-focus-ring"],[1,"mat-slider-thumb"],[1,"mat-slider-thumb-label"],[1,"mat-slider-thumb-label-text"]],template:function(t,e){1&t&&(l.Vb(0,"div",0,1),l.Vb(2,"div",2),l.Qb(3,"div",3),l.Qb(4,"div",4),l.Ub(),l.Vb(5,"div",5),l.Qb(6,"div",6),l.Ub(),l.Vb(7,"div",7),l.Qb(8,"div",8),l.Qb(9,"div",9),l.Vb(10,"div",10),l.Vb(11,"span",11),l.Jc(12),l.Ub(),l.Ub(),l.Ub(),l.Ub()),2&t&&(l.Cb(3),l.nc("ngStyle",e._trackBackgroundStyles),l.Cb(1),l.nc("ngStyle",e._trackFillStyles),l.Cb(1),l.nc("ngStyle",e._ticksContainerStyles),l.Cb(1),l.nc("ngStyle",e._ticksStyles),l.Cb(1),l.nc("ngStyle",e._thumbContainerStyles),l.Cb(5),l.Kc(e.displayValue))},directives:[n.w],styles:['.mat-slider{display:inline-block;position:relative;box-sizing:border-box;padding:8px;outline:none;vertical-align:middle}.mat-slider:not(.mat-slider-disabled):active,.mat-slider.mat-slider-sliding:not(.mat-slider-disabled){cursor:-webkit-grabbing;cursor:grabbing}.mat-slider-wrapper{position:absolute}.mat-slider-track-wrapper{position:absolute;top:0;left:0;overflow:hidden}.mat-slider-track-fill{position:absolute;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-track-background{position:absolute;transform-origin:100% 100%;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-ticks-container{position:absolute;left:0;top:0;overflow:hidden}.mat-slider-ticks{background-repeat:repeat;background-clip:content-box;box-sizing:border-box;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-thumb-container{position:absolute;z-index:1;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-focus-ring{position:absolute;width:30px;height:30px;border-radius:50%;transform:scale(0);opacity:0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider.cdk-keyboard-focused .mat-slider-focus-ring,.mat-slider.cdk-program-focused .mat-slider-focus-ring{transform:scale(1);opacity:1}.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb-label,.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb{cursor:-webkit-grab;cursor:grab}.mat-slider-thumb{position:absolute;right:-10px;bottom:-10px;box-sizing:border-box;width:20px;height:20px;border:3px solid transparent;border-radius:50%;transform:scale(0.7);transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),border-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-thumb-label{display:none;align-items:center;justify-content:center;position:absolute;width:28px;height:28px;border-radius:50%;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),border-radius 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.cdk-high-contrast-active .mat-slider-thumb-label{outline:solid 1px}.mat-slider-thumb-label-text{z-index:1;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-sliding .mat-slider-track-fill,.mat-slider-sliding .mat-slider-track-background,.mat-slider-sliding .mat-slider-thumb-container{transition-duration:0ms}.mat-slider-has-ticks .mat-slider-wrapper::after{content:"";position:absolute;border-width:0;border-style:solid;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after,.mat-slider-has-ticks:hover:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after{opacity:1}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-disabled) .mat-slider-ticks,.mat-slider-has-ticks:hover:not(.mat-slider-disabled) .mat-slider-ticks{opacity:1}.mat-slider-thumb-label-showing .mat-slider-focus-ring{display:none}.mat-slider-thumb-label-showing .mat-slider-thumb-label{display:flex}.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:100% 100%}.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:0 0}.mat-slider:not(.mat-slider-disabled).cdk-focused.mat-slider-thumb-label-showing .mat-slider-thumb{transform:scale(0)}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label{border-radius:50% 50% 0}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label-text{opacity:1}.mat-slider:not(.mat-slider-disabled).cdk-mouse-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-touch-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-program-focused .mat-slider-thumb{border-width:2px;transform:scale(1)}.mat-slider-disabled .mat-slider-focus-ring{transform:scale(0);opacity:0}.mat-slider-disabled .mat-slider-thumb{border-width:4px;transform:scale(0.5)}.mat-slider-disabled .mat-slider-thumb-label{display:none}.mat-slider-horizontal{height:48px;min-width:128px}.mat-slider-horizontal .mat-slider-wrapper{height:2px;top:23px;left:8px;right:8px}.mat-slider-horizontal .mat-slider-wrapper::after{height:2px;border-left-width:2px;right:0;top:0}.mat-slider-horizontal .mat-slider-track-wrapper{height:2px;width:100%}.mat-slider-horizontal .mat-slider-track-fill{height:2px;width:100%;transform:scaleX(0)}.mat-slider-horizontal .mat-slider-track-background{height:2px;width:100%;transform:scaleX(1)}.mat-slider-horizontal .mat-slider-ticks-container{height:2px;width:100%}.cdk-high-contrast-active .mat-slider-horizontal .mat-slider-ticks-container{height:0;outline:solid 2px;top:1px}.mat-slider-horizontal .mat-slider-ticks{height:2px;width:100%}.mat-slider-horizontal .mat-slider-thumb-container{width:100%;height:0;top:50%}.mat-slider-horizontal .mat-slider-focus-ring{top:-15px;right:-15px}.mat-slider-horizontal .mat-slider-thumb-label{right:-14px;top:-40px;transform:translateY(26px) scale(0.01) rotate(45deg)}.mat-slider-horizontal .mat-slider-thumb-label-text{transform:rotate(-45deg)}.mat-slider-horizontal.cdk-focused .mat-slider-thumb-label{transform:rotate(45deg)}.cdk-high-contrast-active .mat-slider-horizontal.cdk-focused .mat-slider-thumb-label,.cdk-high-contrast-active .mat-slider-horizontal.cdk-focused .mat-slider-thumb-label-text{transform:none}.mat-slider-vertical{width:48px;min-height:128px}.mat-slider-vertical .mat-slider-wrapper{width:2px;top:8px;bottom:8px;left:23px}.mat-slider-vertical .mat-slider-wrapper::after{width:2px;border-top-width:2px;bottom:0;left:0}.mat-slider-vertical .mat-slider-track-wrapper{height:100%;width:2px}.mat-slider-vertical .mat-slider-track-fill{height:100%;width:2px;transform:scaleY(0)}.mat-slider-vertical .mat-slider-track-background{height:100%;width:2px;transform:scaleY(1)}.mat-slider-vertical .mat-slider-ticks-container{width:2px;height:100%}.cdk-high-contrast-active .mat-slider-vertical .mat-slider-ticks-container{width:0;outline:solid 2px;left:1px}.mat-slider-vertical .mat-slider-focus-ring{bottom:-15px;left:-15px}.mat-slider-vertical .mat-slider-ticks{width:2px;height:100%}.mat-slider-vertical .mat-slider-thumb-container{height:100%;width:0;left:50%}.mat-slider-vertical .mat-slider-thumb{-webkit-backface-visibility:hidden;backface-visibility:hidden}.mat-slider-vertical .mat-slider-thumb-label{bottom:-14px;left:-40px;transform:translateX(26px) scale(0.01) rotate(-45deg)}.mat-slider-vertical .mat-slider-thumb-label-text{transform:rotate(45deg)}.mat-slider-vertical.cdk-focused .mat-slider-thumb-label{transform:rotate(-45deg)}[dir=rtl] .mat-slider-wrapper::after{left:0;right:auto}[dir=rtl] .mat-slider-horizontal .mat-slider-track-fill{transform-origin:100% 100%}[dir=rtl] .mat-slider-horizontal .mat-slider-track-background{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:100% 100%}.mat-slider._mat-animation-noopable .mat-slider-track-fill,.mat-slider._mat-animation-noopable .mat-slider-track-background,.mat-slider._mat-animation-noopable .mat-slider-ticks,.mat-slider._mat-animation-noopable .mat-slider-thumb-container,.mat-slider._mat-animation-noopable .mat-slider-focus-ring,.mat-slider._mat-animation-noopable .mat-slider-thumb,.mat-slider._mat-animation-noopable .mat-slider-thumb-label,.mat-slider._mat-animation-noopable .mat-slider-thumb-label-text,.mat-slider._mat-animation-noopable .mat-slider-has-ticks .mat-slider-wrapper::after{transition:none}\n'],encapsulation:2,changeDetection:0}),t})();function ei(t){return"t"===t.type[0]}function ii(t){const e=ei(t)?t.touches[0]||t.changedTouches[0]:t;return{x:e.clientX,y:e.clientY}}let ni=(()=>{class t{}return t.\u0275mod=l.Nb({type:t}),t.\u0275inj=l.Mb({factory:function(e){return new(e||t)},imports:[[n.c,Ne.h],Ne.h]}),t})();var ai=i("hLX6"),oi=i("zW5C");function si(t,e){if(1&t&&(l.Vb(0,"div",8),l.Vb(1,"div",9),l.Vb(2,"div",10),l.Jc(3),l.hc(4,"trans"),l.Ub(),l.Ub(),l.Vb(5,"div",11),l.Vb(6,"label",12),l.Jc(7,"Title"),l.Ub(),l.Qb(8,"input",13),l.Ub(),l.Vb(9,"div",11),l.Vb(10,"label",12),l.Jc(11,"Subtitle"),l.Ub(),l.Qb(12,"input",14),l.Ub(),l.Vb(13,"appearance-image-input",15),l.Jc(14," Image "),l.Ub(),l.Ub()),2&t){const t=e.$implicit,i=e.index,n=l.gc(3);l.nc("formGroup",t),l.Cb(3),l.Mc("",l.ic(4,13,"Feature")," #",i+1,""),l.Cb(3),l.nc("for","primary."+i+".title"),l.Cb(2),l.pc("highlightInPreview",".inline-feature:nth-child(",i+1,") h3"),l.nc("id","primary."+i+".title")("placeholder",n.defaultValue("primaryFeatures."+i+".title")),l.Cb(2),l.nc("for","primary."+i+".subtitle"),l.Cb(2),l.pc("highlightInPreview",".inline-feature:nth-child(",i+1,") p"),l.nc("id","primary."+i+".subtitle")("placeholder",n.defaultValue("primaryFeatures."+i+".subtitle")),l.Cb(1),l.pc("highlightInPreview",".inline-feature:nth-child(",i+1,") img"),l.nc("defaultValue",n.defaultValue("primaryFeatures."+i+".image"))}}function ri(t,e){if(1&t&&(l.Tb(0),l.Hc(1,si,15,15,"div",7),l.Sb()),2&t){const t=l.gc(2);l.Cb(1),l.nc("ngForOf",t.primaryArray().controls)}}function ci(t,e){if(1&t){const t=l.Wb();l.Vb(0,"div",8),l.Vb(1,"div",9),l.Vb(2,"div",10),l.Jc(3),l.hc(4,"trans"),l.Ub(),l.Vb(5,"button",17),l.cc("click",(function(){l.yc(t);const i=e.index;return l.gc(3).removeFeature("secondary",i)})),l.Qb(6,"mat-icon",18),l.Ub(),l.Ub(),l.Vb(7,"div",11),l.Vb(8,"label",12),l.Jc(9,"Title"),l.Ub(),l.Qb(10,"input",13),l.Ub(),l.Vb(11,"div",11),l.Vb(12,"label",12),l.Jc(13,"Subtitle"),l.Ub(),l.Qb(14,"input",14),l.Ub(),l.Vb(15,"div",11),l.Vb(16,"label",12),l.Jc(17,"Description"),l.Ub(),l.Qb(18,"textarea",19),l.Ub(),l.Vb(19,"appearance-image-input",20),l.Jc(20,"Image "),l.Ub(),l.Ub()}if(2&t){const t=e.$implicit,i=e.index,n=l.gc(3);l.nc("formGroup",t),l.Cb(3),l.Mc("",l.ic(4,17,"Feature")," #",i+1,""),l.Cb(5),l.nc("for","secondary."+i+".title"),l.Cb(2),l.pc("highlightInPreview",".big-feature:nth-child(",i+1,") h2"),l.nc("id","secondary."+i+".title")("placeholder",n.defaultValue("secondaryFeatures."+i+".title")),l.Cb(2),l.nc("for","secondary."+i+".subtitle"),l.Cb(2),l.pc("highlightInPreview",".big-feature:nth-child(",i+1,") small"),l.nc("id","secondary."+i+".subtitle")("placeholder",n.defaultValue("secondaryFeatures."+i+".subtitle")),l.Cb(2),l.nc("for","secondary."+i+".description"),l.Cb(2),l.pc("highlightInPreview",".big-feature:nth-child(",i+1,") p"),l.nc("id","secondary."+i+".description")("placeholder",n.defaultValue("secondaryFeatures."+i+".description")),l.Cb(1),l.pc("highlightInPreview",".big-feature:nth-child(",i+1,") img"),l.nc("defaultValue",n.defaultValue("secondaryFeatures."+i+".image"))}}function li(t,e){if(1&t){const t=l.Wb();l.Tb(0),l.Hc(1,ci,21,19,"div",7),l.Vb(2,"button",16),l.cc("click",(function(){return l.yc(t),l.gc(2).addFeature("secondary")})),l.Jc(3,"Add"),l.Ub(),l.Sb()}if(2&t){const t=l.gc(2);l.Cb(1),l.nc("ngForOf",t.secondaryArray().controls)}}function di(t,e){if(1&t&&(l.Vb(0,"div",21),l.Vb(1,"div",11),l.Vb(2,"label",22),l.Jc(3,"Input Text"),l.Ub(),l.Qb(4,"input",23),l.Ub(),l.Vb(5,"div",11),l.Vb(6,"label",24),l.Jc(7,"Input Button"),l.Ub(),l.Qb(8,"input",25),l.Ub(),l.Vb(9,"div",11),l.Vb(10,"label",26),l.Jc(11,"Call to Action #1"),l.Ub(),l.Qb(12,"input",27),l.Ub(),l.Vb(13,"div",11),l.Vb(14,"label",28),l.Jc(15,"Call to Action #2"),l.Ub(),l.Qb(16,"input",29),l.Ub(),l.Ub()),2&t){const t=l.gc(2);l.nc("formGroup",t.form.get("actions")),l.Cb(4),l.nc("placeholder",t.defaultValue("actions.inputText")),l.Cb(4),l.nc("placeholder",t.defaultValue("actions.inputButton")),l.Cb(4),l.nc("placeholder",t.defaultValue("actions.cta1")),l.Cb(4),l.nc("placeholder",t.defaultValue("actions.cta2"))}}function ui(t,e){if(1&t&&(l.Tb(0),l.Vb(1,"div",4),l.Hc(2,ri,2,1,"ng-container",5),l.Hc(3,li,4,1,"ng-container",5),l.Hc(4,di,17,5,"div",6),l.Ub(),l.Sb()),2&t){const t=e.ngIf;l.Cb(1),l.nc("ngSwitch",t),l.Cb(1),l.nc("ngSwitchCase","primaryFeatures"),l.Cb(1),l.nc("ngSwitchCase","secondaryFeatures"),l.Cb(1),l.nc("ngSwitchCase","actions")}}function bi(t,e){if(1&t){const t=l.Wb();l.Vb(0,"div",21),l.Vb(1,"div",11),l.Vb(2,"label",30),l.Jc(3,"Header Title"),l.Ub(),l.Qb(4,"input",31),l.Ub(),l.Vb(5,"div",11),l.Vb(6,"label",32),l.Jc(7,"Header Subtitle"),l.Ub(),l.Qb(8,"textarea",33),l.Ub(),l.Vb(9,"appearance-image-input",34),l.Jc(10,"Header Image "),l.Ub(),l.Qb(11,"mat-slider",35),l.Vb(12,"color-picker-input",36),l.Jc(13,"Header Overlay Color 1"),l.Ub(),l.Vb(14,"color-picker-input",37),l.Jc(15,"Header Overlay Color 2"),l.Ub(),l.Qb(16,"div",38),l.Vb(17,"ul"),l.Vb(18,"li",39),l.cc("click",(function(){return l.yc(t),l.gc().openSubpanel("actions")})),l.Vb(19,"span",40),l.Jc(20,"Action Buttons"),l.Ub(),l.Qb(21,"mat-icon",41),l.Ub(),l.Vb(22,"li",39),l.cc("click",(function(){return l.yc(t),l.gc().openSubpanel("primaryFeatures")})),l.Vb(23,"span",40),l.Jc(24,"Primary Features"),l.Ub(),l.Qb(25,"mat-icon",41),l.Ub(),l.Vb(26,"li",39),l.cc("click",(function(){return l.yc(t),l.gc().openSubpanel("secondaryFeatures")})),l.Vb(27,"span",40),l.Jc(28,"Secondary Features"),l.Ub(),l.Qb(29,"mat-icon",41),l.Ub(),l.Ub(),l.Qb(30,"div",38),l.Vb(31,"div",11),l.Vb(32,"label",42),l.Jc(33,"Footer Title"),l.Ub(),l.Qb(34,"input",43),l.Ub(),l.Vb(35,"div",11),l.Vb(36,"label",44),l.Jc(37,"Footer Subtitle"),l.Ub(),l.Qb(38,"textarea",45),l.Ub(),l.Vb(39,"appearance-image-input",46),l.Jc(40,"Footer Image "),l.Ub(),l.Ub()}if(2&t){const t=l.gc();l.nc("formGroup",t.form),l.Cb(4),l.nc("placeholder",t.defaultValue("headerTitle")),l.Cb(4),l.nc("placeholder",t.defaultValue("headerSubtitle")),l.Cb(1),l.nc("defaultValue",t.defaultValue("headerImage")),l.Cb(25),l.nc("placeholder",t.defaultValue("footerTitle")),l.Cb(4),l.nc("placeholder",t.defaultValue("footerSubtitle")),l.Cb(1),l.nc("defaultValue",t.defaultValue("footerImage"))}}const hi="homepage.appearance",mi={defaultRoute:"/",navigationRoutes:["/","dashboard"],menus:{positions:["dashboard-navbar","dashboard-sidebar","homepage-navbar","admin-navbar","custom-page-navbar","footer"],availableRoutes:["dashboard","dashboard/links","dashboard/groups","dashboard/custom-domains","dashboard/link-overlays","dashboard/custom-pages","dashboard/pixels","dashboard/workspaces"]},sections:[{name:"homepage",component:(()=>{class t{constructor(t,e,i){this.fb=t,this.editor=e,this.settings=i,this.selectedSubpanel$=new x.a(null),this.path$=this.selectedSubpanel$.pipe(Object(c.a)(t=>{const e=["Homepage"];return t&&e.push(t),e})),this.form=this.fb.group({headerTitle:[""],headerSubtitle:[""],headerImage:[""],headerImageOpacity:[1],headerOverlayColor1:[""],headerOverlayColor2:[""],footerTitle:[""],footerSubtitle:[""],footerImage:[""],actions:this.fb.group({inputText:[""],inputButton:[""],cta1:[""],cta2:[""]}),primaryFeatures:this.fb.array([]),secondaryFeatures:this.fb.array([])})}ngOnInit(){const t=this.settings.getJson(hi);this.defaultValues=JSON.parse(this.editor.defaultSettings[hi]),t.primaryFeatures.forEach(()=>{this.addFeature("primary")}),t.secondaryFeatures.forEach(()=>{this.addFeature("secondary")}),this.form.patchValue(t),this.form.valueChanges.subscribe(t=>{this.editor.setConfig(hi,t),this.editor.addChanges({[hi]:t})})}openPreviousPanel(){this.selectedSubpanel$.value?this.openSubpanel(null):this.editor.closeActivePanel()}openSubpanel(t){this.selectedSubpanel$.next(t)}addFeature(t){const e=this.form.get(t+"Features"),i={title:[""],subtitle:[""],image:[""]};"secondary"===t&&(i.description=[""]),e.push(this.fb.group(i))}removeFeature(t,e){this.form.get(t+"Features").removeAt(e)}defaultValue(t){return ai.pick(t,this.defaultValues)||""}primaryArray(){return this.form.get("primaryFeatures")}secondaryArray(){return this.form.get("secondaryFeatures")}}return t.\u0275fac=function(e){return new(e||t)(l.Pb(a.h),l.Pb($),l.Pb(I.a))},t.\u0275cmp=l.Jb({type:t,selectors:[["homepage-appearance-panel"]],decls:7,vars:7,consts:[[3,"path","back"],[1,"appearance-panel-content"],[4,"ngIf","ngIfElse"],["mainPanel",""],[3,"ngSwitch"],[4,"ngSwitchCase"],["class","many-inputs",3,"formGroup",4,"ngSwitchCase"],["class","many-inputs feature-group",3,"formGroup",4,"ngFor","ngForOf"],[1,"many-inputs","feature-group",3,"formGroup"],[1,"feature-group-header"],[1,"text"],[1,"input-container"],["trans","",3,"for"],["type","text","formControlName","title","required","",3,"id","placeholder","highlightInPreview"],["type","text","formControlName","subtitle","required","",3,"id","placeholder","highlightInPreview"],["formControlName","image","diskPrefix","homepage","trans","",3,"defaultValue","highlightInPreview"],["mat-flat-button","","color","accent","trans","",3,"click"],["mat-icon-button","","color","warn",3,"click"],["svgIcon","close"],["type","text","formControlName","description","rows","4","required","",3,"id","placeholder","highlightInPreview"],["diskPrefix","homepage","formControlName","image","trans","",3,"defaultValue","highlightInPreview"],[1,"many-inputs",3,"formGroup"],["for","home.actions.inputText","trans",""],["type","text","id","home.actions.inputText","formControlName","inputText","highlightInPreview","new-link-form input","required","",3,"placeholder"],["for","home.actions.inputButton","trans",""],["type","text","id","home.actions.inputButton","formControlName","inputButton","highlightInPreview","new-link-form .mat-flat-button","required","",3,"placeholder"],["for","home.actions.cta1","trans",""],["type","text","id","home.actions.cta1","formControlName","cta1","highlightInPreview",".get-started-button","required","",3,"placeholder"],["for","home.actions.cta2","trans",""],["type","text","id","home.actions.cta2","formControlName","cta2","highlightInPreview",".learn-more-button","required","",3,"placeholder"],["for","home.header.title","trans",""],["type","text","id","home.header.title","formControlName","headerTitle","highlightInPreview",".header-title","required","",3,"placeholder"],["for","home.header.subtitle","trans",""],["type","text","id","home.header.subtitle","formControlName","headerSubtitle","rows","4","highlightInPreview",".header-description","required","",3,"placeholder"],["highlightInPreview",".hero","diskPrefix","homepage","formControlName","headerImage","trans","",3,"defaultValue"],["min","0","max","1","step","0.1","formControlName","headerImageOpacity",1,"opacity-slider"],["formControlName","headerOverlayColor1","trans",""],["formControlName","headerOverlayColor2","trans",""],[1,"separator"],[1,"nav-item",3,"click"],["trans","",1,"text"],["svgIcon","keyboard-arrow-right",1,"actions"],["for","home.footer.title","trans",""],["type","text","id","home.footer.title","formControlName","footerTitle","highlightInPreview",".footer-title","required","",3,"placeholder"],["for","home.footer.subtitle","trans",""],["type","text","id","home.footer.subtitle","formControlName","footerSubtitle","rows","4","highlightInPreview",".footer-description","required","",3,"placeholder"],["highlightInPreview",".bottom-cta","diskPrefix","homepage","formControlName","footerImage","trans","",3,"defaultValue"]],template:function(t,e){if(1&t&&(l.Vb(0,"appearance-panel-meta",0),l.cc("back",(function(){return e.openPreviousPanel()})),l.hc(1,"async"),l.Ub(),l.Vb(2,"div",1),l.Hc(3,ui,5,4,"ng-container",2),l.hc(4,"async"),l.Hc(5,bi,41,7,"ng-template",null,3,l.Ic),l.Ub()),2&t){const t=l.vc(6);l.nc("path",l.ic(1,3,e.path$)),l.Cb(3),l.nc("ngIf",l.ic(4,5,e.selectedSubpanel$))("ngIfElse",t)}},directives:[A,n.t,n.x,n.y,n.s,a.v,a.m,E.a,a.d,a.u,a.k,a.F,ot,at,T.b,D.a,ti,xt.a],pipes:[n.b,oi.a],styles:[".separator[_ngcontent-%COMP%]{height:1px;width:100%;background-color:var(--be-divider-default);margin:20px 0}.feature-group[_ngcontent-%COMP%]{padding-bottom:5px;margin-bottom:15px}.feature-group[_ngcontent-%COMP%], .feature-group-header[_ngcontent-%COMP%]{border-bottom:1px solid var(--be-divider-default)}.feature-group-header[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:1.5rem;padding-bottom:10px;margin-bottom:10px}.feature-group-header[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{margin-left:auto}.opacity-slider[_ngcontent-%COMP%]{width:100%;margin-top:-20px}"],changeDetection:0}),t})(),position:1}]};let pi=(()=>{class t{}return t.\u0275mod=l.Nb({type:t}),t.\u0275inj=l.Mb({factory:function(e){return new(e||t)},providers:[{provide:d,useValue:mi,multi:!0}],imports:[[n.c,Le,a.E,ze.a,D.b,T.c,Te.a,ni]]}),t})()}}]);
//# sourceMappingURL=10-es2015.71a5e747c2c6cdf362f3.js.map